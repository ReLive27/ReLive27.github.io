{"pageProps":{"post":{"mdxSource":"var Component=(()=>{var r=Object.create;var l=Object.defineProperty;var p=Object.getOwnPropertyDescriptor;var d=Object.getOwnPropertyNames;var h=Object.getPrototypeOf,u=Object.prototype.hasOwnProperty;var t=e=>l(e,\"__esModule\",{value:!0});var m=(e,s)=>()=>(s||e((s={exports:{}}).exports,s),s.exports),N=(e,s)=>{t(e);for(var c in s)l(e,c,{get:s[c],enumerable:!0})},k=(e,s,c)=>{if(s&&typeof s==\"object\"||typeof s==\"function\")for(let a of d(s))!u.call(e,a)&&a!==\"default\"&&l(e,a,{get:()=>s[a],enumerable:!(c=p(s,a))||c.enumerable});return e},g=e=>k(t(l(e!=null?r(h(e)):{},\"default\",e&&e.__esModule&&\"default\"in e?{get:()=>e.default,enumerable:!0}:{value:e,enumerable:!0})),e);var o=m((C,i)=>{i.exports=_jsx_runtime});var b={};N(b,{default:()=>w,frontmatter:()=>y});var n=g(o()),y={title:\"Spring Security OAuth2 \\u5E26\\u6709\\u7528\\u4E8E\\u4EE3\\u7801\\u4EA4\\u6362\\u7684\\u8BC1\\u660E\\u5BC6\\u94A5 (PKCE) \\u7684\\u6388\\u6743\\u7801\\u6D41\",date:new Date(165806051e4),tags:[\"OAuth2\",\"SpringSecurity\"],draft:!1,authors:[\"default\"]};function f(e={}){let{wrapper:s}=e.components||{};return s?(0,n.jsx)(s,Object.assign({},e,{children:(0,n.jsx)(c,{})})):c();function c(){let a=Object.assign({h2:\"h2\",a:\"a\",span:\"span\",p:\"p\",img:\"img\",h3:\"h3\",strong:\"strong\",ol:\"ol\",li:\"li\",h4:\"h4\",pre:\"pre\",code:\"code\",em:\"em\"},e.components);return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)(a.h2,{id:\"spring-security-oauth2-\\u5E26\\u6709\\u7528\\u4E8E\\u4EE3\\u7801\\u4EA4\\u6362\\u7684\\u8BC1\\u660E\\u5BC6\\u94A5-pkce-\\u7684\\u6388\\u6743\\u7801\\u6D41\",children:[(0,n.jsx)(a.a,{href:\"#spring-security-oauth2-\\u5E26\\u6709\\u7528\\u4E8E\\u4EE3\\u7801\\u4EA4\\u6362\\u7684\\u8BC1\\u660E\\u5BC6\\u94A5-pkce-\\u7684\\u6388\\u6743\\u7801\\u6D41\",\"aria-hidden\":\"true\",tabIndex:\"-1\",children:(0,n.jsx)(a.span,{className:\"icon icon-link\"})}),\"Spring Security OAuth2 \\u5E26\\u6709\\u7528\\u4E8E\\u4EE3\\u7801\\u4EA4\\u6362\\u7684\\u8BC1\\u660E\\u5BC6\\u94A5 (PKCE) \\u7684\\u6388\\u6743\\u7801\\u6D41\"]}),(0,n.jsx)(a.p,{children:(0,n.jsx)(a.img,{alt:\"\",src:\"../static/images/blogs/oauth2.png\"})}),(0,n.jsxs)(a.h3,{id:\"\\u6982\\u8FF0\",children:[(0,n.jsx)(a.a,{href:\"#\\u6982\\u8FF0\",\"aria-hidden\":\"true\",tabIndex:\"-1\",children:(0,n.jsx)(a.span,{className:\"icon icon-link\"})}),\"\\u6982\\u8FF0\"]}),(0,n.jsxs)(a.p,{children:[\"OAuth2\\u4F9D\\u636E\\u662F\\u5426\\u80FD\\u6301\\u6709\\u5BA2\\u6237\\u7AEF\\u5BC6\\u94A5\\uFF0C\\u5C06\\u5BA2\\u6237\\u7AEF\\u5206\\u4E3A\\u4E24\\u79CD\\u7C7B\\u578B\\uFF1A\",(0,n.jsx)(a.strong,{children:\"\\u516C\\u5171\\u5BA2\\u6237\\u7AEF\"}),\"\\u548C\",(0,n.jsx)(a.strong,{children:\"\\u4FDD\\u5BC6\\u5BA2\\u6237\\u7AEF\"}),\"\\u3002\"]}),(0,n.jsxs)(a.p,{children:[(0,n.jsx)(a.strong,{children:\"\\u4FDD\\u5BC6\\u5BA2\\u6237\\u7AEF\"}),\"\\u5728\\u670D\\u52A1\\u5668\\u4E0A\\u8FD0\\u884C\\uFF0C\\u5728\\u524D\\u9762\\u4ECB\\u7ECDOAuth2\\u6587\\u7AE0\\u4E2DSpring Boot\\u521B\\u5EFA\\u7684\\u5E94\\u7528\\u7A0B\\u5E8F\\u662F\\u4FDD\\u5BC6\\u5BA2\\u6237\\u7AEF\\u7C7B\\u578B\\u7684\\u793A\\u4F8B\\u3002\\u9996\\u5148\\u5B83\\u4EEC\\u5728\\u670D\\u52A1\\u5668\\u4E0A\\u8FD0\\u884C\\uFF0C\\u5E76\\u4E14\\u901A\\u5E38\\u4F4D\\u4E8E\\u5177\\u6709\\u5176\\u4ED6\\u4FDD\\u62A4\\u63AA\\u65BD\\u9632\\u706B\\u5899\\u6216\\u7F51\\u5173\\u7684\\u540E\\u9762\\u3002\"]}),(0,n.jsxs)(a.p,{children:[(0,n.jsx)(a.strong,{children:\"\\u516C\\u5171\\u5BA2\\u6237\\u7AEF\"}),\"\\u7684\\u4EE3\\u7801\\u4E00\\u822C\\u4F1A\\u4EE5\\u67D0\\u79CD\\u5F62\\u5F0F\\u66B4\\u9732\\u7ED9\\u6700\\u7EC8\\u7528\\u6237\\uFF0C\\u8981\\u4E48\\u662F\\u5728\\u6D4F\\u89C8\\u5668\\u4E2D\\u4E0B\\u8F7D\\u6267\\u884C\\uFF0C\\u8981\\u4E48\\u662F\\u76F4\\u63A5\\u5728\\u7528\\u6237\\u7684\\u8BBE\\u5907\\u4E0A\\u8FD0\\u884C\\u3002\\u4F8B\\u5982\",(0,n.jsx)(a.strong,{children:\"\\u539F\\u751F\\u5E94\\u7528\"}),\"\\u662F\\u76F4\\u63A5\\u5728\\u6700\\u7EC8\\u7528\\u6237\\u7684\\u8BBE\\u5907\\uFF08\\u8BA1\\u7B97\\u673A\\u6216\\u8005\\u79FB\\u52A8\\u8BBE\\u5907\\uFF09\\u4E0A\\u8FD0\\u884C\\u7684\\u5E94\\u7528\\u3002\\u8FD9\\u7C7B\\u5E94\\u7528\\u5728\\u4F7F\\u7528OAuth2\\u534F\\u8BAE\\u65F6\\uFF0C\\u6211\\u4EEC\\u65E0\\u6CD5\\u4FDD\\u8BC1\\u4E3A\\u6B64\\u5E94\\u7528\\u9881\\u53D1\\u7684\\u5BA2\\u6237\\u7AEF\\u5BC6\\u94A5\\u80FD\\u5B89\\u5168\\u7684\\u5B58\\u50A8\\uFF0C\\u56E0\\u4E3A\\u8FD9\\u4E9B\\u5E94\\u7528\\u7A0B\\u5E8F\\u5728\\u8FD0\\u884C\\u4E4B\\u524D\\u4F1A\\u5B8C\\u5168\\u4E0B\\u8F7D\\u5230\\u8BBE\\u5907\\u4E0A\\uFF0C\\u53CD\\u7F16\\u8BD1\\u5E94\\u7528\\u7A0B\\u5E8F\\u5C06\\u5B8C\\u5168\\u663E\\u793A\\u5BA2\\u6237\\u7AEF\\u5BC6\\u94A5\\u3002\"]}),(0,n.jsxs)(a.p,{children:[\"\\u540C\\u6837\\u5B58\\u5728\\u6B64\\u5B89\\u5168\\u95EE\\u9898\\u8FD8\\u6709\",(0,n.jsx)(a.strong,{children:\"\\u5355\\u9875\\u5E94\\u7528\"}),\"\\uFF08SPA\\uFF09\\uFF0C\\u6D4F\\u89C8\\u5668\\u672C\\u8EAB\\u662F\\u4E00\\u4E2A\\u4E0D\\u5B89\\u5168\\u7684\\u73AF\\u5883\\uFF0C\\u4E00\\u65E6\\u4F60\\u52A0\\u8F7DJavaScript\\u5E94\\u7528\\u7A0B\\u5E8F\\uFF0C\\u6D4F\\u89C8\\u5668\\u5C06\\u4F1A\\u4E0B\\u8F7D\\u6574\\u4E2A\\u6E90\\u4EE3\\u7801\\u4EE5\\u4FBF\\u8FD0\\u884C\\u5B83\\uFF0C\\u6574\\u4E2A\\u6E90\\u4EE3\\u7801\\uFF0C\\u5305\\u62EC\\u5176\\u4E2D\\u7684\\u4EFB\\u4F55 \\u5BA2\\u6237\\u7AEF\\u5BC6\\u94A5\\uFF0C\\u90FD\\u5C06\\u53EF\\u89C1\\u3002\\u5982\\u679C\\u4F60\\u6784\\u5EFA\\u4E00\\u4E2A\\u62E5\\u6709100000\\u540D\\u7528\\u6237\\u7684\\u5E94\\u7528\\u7A0B\\u5E8F\\uFF0C\\u90A3\\u4E48\\u5F88\\u53EF\\u80FD\\u8FD9\\u4E9B\\u7528\\u6237\\u4E2D\\u7684\\u4E00\\u90E8\\u5206\\u5C06\\u611F\\u67D3\\u6076\\u610F\\u8F6F\\u4EF6\\u6216\\u75C5\\u6BD2\\uFF0C\\u5E76\\u6CC4\\u6F0F\\u5BA2\\u6237\\u7AEF\\u5BC6\\u94A5\\u3002\"]}),(0,n.jsx)(a.p,{children:\"\\u4F60\\u53EF\\u80FD\\u4F1A\\u60F3\\uFF0C\\u201C\\u5982\\u679C\\u6211\\u901A\\u8FC7\\u5C06\\u5BA2\\u6237\\u7AEF\\u5BC6\\u94A5\\u62C6\\u5206\\u4E3A\\u51E0\\u4E2A\\u90E8\\u5206\\u8FDB\\u884C\\u6DF7\\u6DC6\\u5462\\uFF1F\\u201D\\u8FD9\\u4E0D\\u53EF\\u5426\\u8BA4\\u4F1A\\u4E3A\\u4F60\\u4E89\\u53D6\\u70B9\\u65F6\\u95F4\\uFF0C\\u4F46\\u771F\\u6B63\\u6709\\u51B3\\u5FC3\\u7684\\u4EBA\\u4ECD\\u53EF\\u80FD\\u4F1A\\u5F04\\u6E05\\u695A\\u3002\"}),(0,n.jsx)(a.p,{children:\"\\u4E3A\\u4E86\\u89C4\\u907F\\u8FD9\\u79CD\\u5B89\\u5168\\u98CE\\u9669\\uFF0C\\u6700\\u597D\\u4F7F\\u7528\\u4EE3\\u7801\\u4EA4\\u6362\\u8BC1\\u660E\\u5BC6\\u94A5(PKCE)\\u3002\"}),(0,n.jsxs)(a.h3,{id:\"proof-key-for-code-exchange\",children:[(0,n.jsx)(a.a,{href:\"#proof-key-for-code-exchange\",\"aria-hidden\":\"true\",tabIndex:\"-1\",children:(0,n.jsx)(a.span,{className:\"icon icon-link\"})}),\"Proof Key for Code Exchange\"]}),(0,n.jsxs)(a.p,{children:[\"PKCE \\u6709\\u81EA\\u5DF1\\u72EC\\u7ACB\\u7684\",(0,n.jsx)(a.a,{href:\"https://tools.ietf.org/html/rfc7636\",children:\"\\u89C4\\u8303\"}),\"\\u3002\\u5B83\\u4F7F\\u5E94\\u7528\\u7A0B\\u5E8F\\u80FD\\u591F\\u5728\\u516C\\u5171\\u5BA2\\u6237\\u7AEF\\u4E2D\\u4F7F\\u7528\\u6388\\u6743\\u7801\\u6D41\\u7A0B\\u3002\"]}),(0,n.jsx)(a.p,{children:(0,n.jsx)(a.img,{alt:\"\",src:\"../static/images/blogs/PKCE.drawio.png\"})}),(0,n.jsxs)(a.ol,{children:[(0,n.jsx)(a.li,{children:(0,n.jsx)(a.p,{children:\"\\u7528\\u6237\\u5728\\u5BA2\\u6237\\u7AEF\\u8BF7\\u6C42\\u8D44\\u6E90\\u3002\"})}),(0,n.jsx)(a.li,{children:(0,n.jsx)(a.p,{children:\"\\u5BA2\\u6237\\u7AEF\\u521B\\u5EFA\\u5E76\\u8BB0\\u5F55\\u540D\\u4E3A code_verifier \\u7684\\u79D8\\u5BC6\\u4FE1\\u606F\\uFF0C\\u7136\\u540E\\u5BA2\\u6237\\u7AEF\\u6839\\u636E code_verifier \\u8BA1\\u7B97\\u51FA code_challenge\\uFF0C\\u5B83\\u7684\\u503C\\u53EF\\u4EE5\\u662F code_verifier\\uFF0C\\u4E5F\\u53EF\\u4EE5\\u662F code_verifier \\u7684 SHA-256 \\u6563\\u5217\\uFF0C\\u4F46\\u662F\\u5E94\\u8BE5\\u4F18\\u5148\\u8003\\u8651\\u4F7F\\u7528\\u5BC6\\u7801\\u6563\\u5217\\uFF0C\\u56E0\\u4E3A\\u5B83\\u80FD\\u9632\\u6B62\\u9A8C\\u8BC1\\u5668\\u672C\\u8EAB\\u906D\\u5230\\u622A\\u83B7\\u3002\"})}),(0,n.jsx)(a.li,{children:(0,n.jsx)(a.p,{children:\"\\u5BA2\\u6237\\u7AEF\\u5C06 code_challenge \\u4EE5\\u53CA\\u53EF\\u9009\\u7684 code_challenge_method(\\u4E00\\u4E2A\\u5173\\u952E\\u5B57\\uFF0C\\u8868 \\u793A\\u539F\\u6587\\u6216\\u8005 SHA-256 \\u6563\\u5217)\\u4E0E\\u5E38\\u89C4\\u7684\\u6388\\u6743\\u8BF7\\u6C42\\u53C2\\u6570\\u4E00\\u8D77\\u53D1\\u9001\\u7ED9\\u6388\\u6743\\u670D\\u52A1\\u5668\\u3002\"})}),(0,n.jsx)(a.li,{children:(0,n.jsx)(a.p,{children:\"\\u6388\\u6743\\u670D\\u52A1\\u5668\\u5C06\\u7528\\u6237\\u91CD\\u5B9A\\u5411\\u5230\\u767B\\u5F55\\u9875\\u9762\\u3002\"})}),(0,n.jsx)(a.li,{children:(0,n.jsx)(a.p,{children:\"\\u7528\\u6237\\u4F7F\\u8FDB\\u884C\\u8EAB\\u4EFD\\u9A8C\\u8BC1\\uFF0C\\u5E76\\u4E14\\u53EF\\u80FD\\u4F1A\\u770B\\u5230\\u4E00\\u4E2A\\u540C\\u610F\\u9875\\u9762\\uFF0C\\u5176\\u4E2D\\u5217\\u51FA\\u4E86 \\u6388\\u6743\\u670D\\u52A1\\u5668\\u5C06\\u6388\\u4E88\\u5BA2\\u6237\\u7AEF\\u7684\\u6743\\u9650\\u3002\"})}),(0,n.jsx)(a.li,{children:(0,n.jsx)(a.p,{children:\"\\u6388\\u6743\\u670D\\u52A1\\u5668\\u5C06 code_challenge \\u548C code_challenge_method(\\u5982\\u679C\\u6709 \\u7684\\u8BDD)\\u8BB0\\u5F55\\u4E0B\\u6765\\u3002\\u6388\\u6743\\u670D\\u52A1\\u5668\\u4F1A\\u5C06\\u8FD9\\u4E9B\\u4FE1\\u606F\\u4E0E\\u9881\\u53D1\\u7684\\u6388\\u6743\\u7801\\u5173\\u8054\\u8D77\\u6765\\uFF0C\\u5E76\\u643A\\u5E26code\\u91CD\\u5B9A\\u5411\\u56DE\\u5BA2\\u6237\\u7AEF\\u3002\"})}),(0,n.jsx)(a.li,{children:(0,n.jsx)(a.p,{children:\"\\u5BA2\\u6237\\u7AEF\\u63A5\\u6536\\u5230\\u6388\\u6743\\u7801\\u4E4B\\u540E\\uFF0C\\u643A\\u5E26\\u4E4B\\u524D\\u751F\\u6210\\u7684 code_verifier \\u6267\\u884C\\u4EE4\\u724C\\u8BF7\\u6C42\\u3002\"})}),(0,n.jsx)(a.li,{children:(0,n.jsx)(a.p,{children:\"\\u6388\\u6743\\u670D\\u52A1\\u5668\\u6839\\u636Ecode_verifier\\u8BA1\\u7B97\\u51FA code_challenge\\uFF0C\\u5E76\\u68C0\\u67E5\\u662F\\u5426\\u4E0E\\u6700\\u521D\\u63D0\\u4EA4\\u7684code_challenge\\u4E00\\u81F4\\u3002\"})}),(0,n.jsx)(a.li,{children:(0,n.jsx)(a.p,{children:\"\\u6388\\u6743\\u670D\\u52A1\\u5668\\u5411\\u5BA2\\u6237\\u7AEF\\u53D1\\u9001\\u4EE4\\u724C\\u3002\"})}),(0,n.jsx)(a.li,{children:(0,n.jsx)(a.p,{children:\"\\u5BA2\\u6237\\u7AEF\\u5411\\u53D7\\u4FDD\\u62A4\\u8D44\\u6E90\\u53D1\\u9001\\u4EE4\\u724C\\u3002\"})}),(0,n.jsx)(a.li,{children:(0,n.jsx)(a.p,{children:\"\\u53D7\\u4FDD\\u62A4\\u8D44\\u6E90\\u5411\\u5BA2\\u6237\\u7AEF\\u8FD4\\u56DE\\u8D44\\u6E90\\u3002\"})})]}),(0,n.jsxs)(a.h3,{id:\"\\u4F7F\\u7528spring-authorization-server\\u642D\\u5EFA\\u6388\\u6743\\u670D\\u52A1\\u5668\",children:[(0,n.jsx)(a.a,{href:\"#\\u4F7F\\u7528spring-authorization-server\\u642D\\u5EFA\\u6388\\u6743\\u670D\\u52A1\\u5668\",\"aria-hidden\":\"true\",tabIndex:\"-1\",children:(0,n.jsx)(a.span,{className:\"icon icon-link\"})}),\"\\u4F7F\\u7528Spring Authorization Server\\u642D\\u5EFA\\u6388\\u6743\\u670D\\u52A1\\u5668\"]}),(0,n.jsxs)(a.p,{children:[\"\\u672C\\u8282\\u6211\\u4EEC\\u5C06\\u4F7F\\u7528\",(0,n.jsx)(a.a,{href:\"https://spring.io/projects/spring-authorization-server\",children:\"Spring Authorization Server\"}),\"\\u642D\\u5EFA\\u4E00\\u4E2A\\u6388\\u6743\\u670D\\u52A1\\u5668\\uFF0C\\u5E76\\u6CE8\\u518C\\u4E00\\u4E2A\\u5BA2\\u6237\\u7AEF\\u4F7F\\u4E4B\\u652F\\u6301PKCE\\u3002\"]}),(0,n.jsxs)(a.h4,{id:\"maven\",children:[(0,n.jsx)(a.a,{href:\"#maven\",\"aria-hidden\":\"true\",tabIndex:\"-1\",children:(0,n.jsx)(a.span,{className:\"icon icon-link\"})}),\"maven\"]}),(0,n.jsx)(a.pre,{className:\"language-xml\",children:(0,n.jsxs)(a.code,{className:\"code-highlight language-xml\",children:[(0,n.jsxs)(a.span,{className:\"code-line\",children:[(0,n.jsxs)(a.span,{className:\"token tag\",children:[(0,n.jsxs)(a.span,{className:\"token tag\",children:[(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"<\"}),\"dependency\"]}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\">\"})]}),`\n`]}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[\"  \",(0,n.jsxs)(a.span,{className:\"token tag\",children:[(0,n.jsxs)(a.span,{className:\"token tag\",children:[(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"<\"}),\"groupId\"]}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\">\"})]}),\"org.springframework.boot\",(0,n.jsxs)(a.span,{className:\"token tag\",children:[(0,n.jsxs)(a.span,{className:\"token tag\",children:[(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"</\"}),\"groupId\"]}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\">\"})]}),`\n`]}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[\"  \",(0,n.jsxs)(a.span,{className:\"token tag\",children:[(0,n.jsxs)(a.span,{className:\"token tag\",children:[(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"<\"}),\"artifactId\"]}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\">\"})]}),\"spring-boot-starter-security\",(0,n.jsxs)(a.span,{className:\"token tag\",children:[(0,n.jsxs)(a.span,{className:\"token tag\",children:[(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"</\"}),\"artifactId\"]}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\">\"})]}),`\n`]}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[\"  \",(0,n.jsxs)(a.span,{className:\"token tag\",children:[(0,n.jsxs)(a.span,{className:\"token tag\",children:[(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"<\"}),\"version\"]}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\">\"})]}),\"2.6.7\",(0,n.jsxs)(a.span,{className:\"token tag\",children:[(0,n.jsxs)(a.span,{className:\"token tag\",children:[(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"</\"}),\"version\"]}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\">\"})]}),`\n`]}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[(0,n.jsxs)(a.span,{className:\"token tag\",children:[(0,n.jsxs)(a.span,{className:\"token tag\",children:[(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"</\"}),\"dependency\"]}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\">\"})]}),`\n`]}),(0,n.jsx)(a.span,{className:\"code-line\",children:`\n`}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[(0,n.jsxs)(a.span,{className:\"token tag\",children:[(0,n.jsxs)(a.span,{className:\"token tag\",children:[(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"<\"}),\"dependency\"]}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\">\"})]}),`\n`]}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[\"  \",(0,n.jsxs)(a.span,{className:\"token tag\",children:[(0,n.jsxs)(a.span,{className:\"token tag\",children:[(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"<\"}),\"groupId\"]}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\">\"})]}),\"org.springframework.security\",(0,n.jsxs)(a.span,{className:\"token tag\",children:[(0,n.jsxs)(a.span,{className:\"token tag\",children:[(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"</\"}),\"groupId\"]}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\">\"})]}),`\n`]}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[\"  \",(0,n.jsxs)(a.span,{className:\"token tag\",children:[(0,n.jsxs)(a.span,{className:\"token tag\",children:[(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"<\"}),\"artifactId\"]}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\">\"})]}),\"spring-security-oauth2-authorization-server\",(0,n.jsxs)(a.span,{className:\"token tag\",children:[(0,n.jsxs)(a.span,{className:\"token tag\",children:[(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"</\"}),\"artifactId\"]}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\">\"})]}),`\n`]}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[\"  \",(0,n.jsxs)(a.span,{className:\"token tag\",children:[(0,n.jsxs)(a.span,{className:\"token tag\",children:[(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"<\"}),\"version\"]}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\">\"})]}),\"0.3.1\",(0,n.jsxs)(a.span,{className:\"token tag\",children:[(0,n.jsxs)(a.span,{className:\"token tag\",children:[(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"</\"}),\"version\"]}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\">\"})]}),`\n`]}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[(0,n.jsxs)(a.span,{className:\"token tag\",children:[(0,n.jsxs)(a.span,{className:\"token tag\",children:[(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"</\"}),\"dependency\"]}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\">\"})]}),`\n`]}),(0,n.jsx)(a.span,{className:\"code-line\",children:`\n`}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[(0,n.jsxs)(a.span,{className:\"token tag\",children:[(0,n.jsxs)(a.span,{className:\"token tag\",children:[(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"<\"}),\"dependency\"]}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\">\"})]}),`\n`]}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[\"  \",(0,n.jsxs)(a.span,{className:\"token tag\",children:[(0,n.jsxs)(a.span,{className:\"token tag\",children:[(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"<\"}),\"groupId\"]}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\">\"})]}),\"org.springframework.boot\",(0,n.jsxs)(a.span,{className:\"token tag\",children:[(0,n.jsxs)(a.span,{className:\"token tag\",children:[(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"</\"}),\"groupId\"]}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\">\"})]}),`\n`]}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[\"  \",(0,n.jsxs)(a.span,{className:\"token tag\",children:[(0,n.jsxs)(a.span,{className:\"token tag\",children:[(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"<\"}),\"artifactId\"]}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\">\"})]}),\"spring-boot-starter-web\",(0,n.jsxs)(a.span,{className:\"token tag\",children:[(0,n.jsxs)(a.span,{className:\"token tag\",children:[(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"</\"}),\"artifactId\"]}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\">\"})]}),`\n`]}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[\"  \",(0,n.jsxs)(a.span,{className:\"token tag\",children:[(0,n.jsxs)(a.span,{className:\"token tag\",children:[(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"<\"}),\"version\"]}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\">\"})]}),\"2.6.7\",(0,n.jsxs)(a.span,{className:\"token tag\",children:[(0,n.jsxs)(a.span,{className:\"token tag\",children:[(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"</\"}),\"version\"]}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\">\"})]}),`\n`]}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[(0,n.jsxs)(a.span,{className:\"token tag\",children:[(0,n.jsxs)(a.span,{className:\"token tag\",children:[(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"</\"}),\"dependency\"]}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\">\"})]}),`\n`]})]})}),(0,n.jsxs)(a.h4,{id:\"\\u914D\\u7F6E\",children:[(0,n.jsx)(a.a,{href:\"#\\u914D\\u7F6E\",\"aria-hidden\":\"true\",tabIndex:\"-1\",children:(0,n.jsx)(a.span,{className:\"icon icon-link\"})}),\"\\u914D\\u7F6E\"]}),(0,n.jsx)(a.p,{children:\"\\u9996\\u5148\\u5F88\\u7B80\\u5355\\uFF0C\\u6211\\u4EEC\\u5C06\\u521B\\u5EFAapplication.yml\\u6587\\u4EF6\\uFF0C\\u5E76\\u6307\\u5B9A\\u6388\\u6743\\u670D\\u52A1\\u5668\\u7AEF\\u53E3\\u4E3A8080\\uFF1A\"}),(0,n.jsx)(a.pre,{className:\"language-yaml\",children:(0,n.jsxs)(a.code,{className:\"code-highlight language-yaml\",children:[(0,n.jsxs)(a.span,{className:\"code-line\",children:[(0,n.jsx)(a.span,{className:\"token atrule key\",children:\"server\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\":\"}),`\n`]}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[\"  \",(0,n.jsx)(a.span,{className:\"token atrule key\",children:\"port\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\":\"}),\" \",(0,n.jsx)(a.span,{className:\"token number\",children:\"8080\"}),`\n`]})]})}),(0,n.jsx)(\"br\",{}),(0,n.jsxs)(a.p,{children:[\"\\u4E4B\\u540E\\u6211\\u4EEC\\u5C06\\u521B\\u5EFA\\u4E00\\u4E2A\",(0,n.jsx)(a.code,{children:\"OAuth2ServerConfig\"}),\"\\u914D\\u7F6E\\u7C7B\\uFF0C\\u5E76\\u5728\\u6B64\\u7C7B\\u4E2D\\u6211\\u4EEC\\u5C06\\u521B\\u5EFAOAuth2\\u6388\\u6743\\u670D\\u52A1\\u6240\\u9700\\u7279\\u5B9ABean\\uFF1A\"]}),(0,n.jsx)(a.pre,{className:\"language-java\",children:(0,n.jsxs)(a.code,{className:\"code-highlight language-java\",children:[(0,n.jsxs)(a.span,{className:\"code-line\",children:[(0,n.jsx)(a.span,{className:\"token punctuation annotation\",children:\"@Bean\"}),`\n`]}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[(0,n.jsx)(a.span,{className:\"token punctuation annotation\",children:\"@Order\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(a.span,{className:\"token class-name\",children:\"Ordered\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(a.span,{className:\"token constant\",children:\"HIGHEST_PRECEDENCE\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\")\"}),`\n`]}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[(0,n.jsx)(a.span,{className:\"token keyword\",children:\"public\"}),\" \",(0,n.jsx)(a.span,{className:\"token class-name\",children:\"SecurityFilterChain\"}),\" \",(0,n.jsx)(a.span,{className:\"token function\",children:\"authorizationServerSecurityFilterChain\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(a.span,{className:\"token class-name\",children:\"HttpSecurity\"}),\" http\",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,n.jsx)(a.span,{className:\"token keyword\",children:\"throws\"}),\" \",(0,n.jsx)(a.span,{className:\"token class-name\",children:\"Exception\"}),\" \",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[\"  \",(0,n.jsx)(a.span,{className:\"token class-name\",children:\"OAuth2AuthorizationServerConfiguration\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(a.span,{className:\"token function\",children:\"applyDefaultSecurity\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"(\"}),\"http\",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[\"  \",(0,n.jsx)(a.span,{className:\"token keyword\",children:\"return\"}),\" http\",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(a.span,{className:\"token function\",children:\"exceptionHandling\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"(\"}),\"exceptions \",(0,n.jsx)(a.span,{className:\"token operator\",children:\"->\"}),\" exceptions\",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\".\"}),`\n`]}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[\"                                \",(0,n.jsx)(a.span,{className:\"token function\",children:\"authenticationEntryPoint\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(a.span,{className:\"token keyword\",children:\"new\"}),\" \",(0,n.jsx)(a.span,{className:\"token class-name\",children:\"LoginUrlAuthenticationEntryPoint\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(a.span,{className:\"token string\",children:'\"/login\"'}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(a.span,{className:\"token function\",children:\"build\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"}\"}),`\n`]}),(0,n.jsx)(a.span,{className:\"code-line\",children:`\n`}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[(0,n.jsx)(a.span,{className:\"token punctuation annotation\",children:\"@Bean\"}),`\n`]}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[(0,n.jsx)(a.span,{className:\"token keyword\",children:\"public\"}),\" \",(0,n.jsx)(a.span,{className:\"token class-name\",children:\"RegisteredClientRepository\"}),\" \",(0,n.jsx)(a.span,{className:\"token function\",children:\"registeredClientRepository\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[\"  \",(0,n.jsx)(a.span,{className:\"token class-name\",children:\"RegisteredClient\"}),\" registeredClient \",(0,n.jsx)(a.span,{className:\"token operator\",children:\"=\"}),\" \",(0,n.jsx)(a.span,{className:\"token class-name\",children:\"RegisteredClient\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(a.span,{className:\"token function\",children:\"withId\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(a.span,{className:\"token constant\",children:\"UUID\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(a.span,{className:\"token function\",children:\"randomUUID\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(a.span,{className:\"token function\",children:\"toString\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\")\"}),`\n`]}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[\"    \",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(a.span,{className:\"token function\",children:\"clientId\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(a.span,{className:\"token string\",children:'\"relive-client\"'}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\")\"}),`\n`]}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[\"    \",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(a.span,{className:\"token function\",children:\"clientAuthenticationMethods\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"(\"}),\"s \",(0,n.jsx)(a.span,{className:\"token operator\",children:\"->\"}),\" \",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[\"      s\",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(a.span,{className:\"token function\",children:\"add\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(a.span,{className:\"token class-name\",children:\"ClientAuthenticationMethod\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(a.span,{className:\"token constant\",children:\"NONE\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\";\"}),(0,n.jsx)(a.span,{className:\"token comment\",children:\"//\\u5BA2\\u6237\\u7AEF\\u8BA4\\u8BC1\\u6A21\\u5F0F\\u4E3Anone\"}),`\n`]}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[\"    \",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"}\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\")\"}),`\n`]}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[\"    \",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(a.span,{className:\"token function\",children:\"authorizationGrantType\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(a.span,{className:\"token class-name\",children:\"AuthorizationGrantType\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(a.span,{className:\"token constant\",children:\"AUTHORIZATION_CODE\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\")\"}),`\n`]}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[\"    \",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(a.span,{className:\"token function\",children:\"redirectUri\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(a.span,{className:\"token string\",children:'\"http://127.0.0.1:8070/login/oauth2/code/messaging-client-pkce\"'}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\")\"}),`\n`]}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[\"    \",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(a.span,{className:\"token function\",children:\"scope\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(a.span,{className:\"token string\",children:'\"message.read\"'}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\")\"}),`\n`]}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[\"    \",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(a.span,{className:\"token function\",children:\"clientSettings\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(a.span,{className:\"token class-name\",children:\"ClientSettings\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(a.span,{className:\"token function\",children:\"builder\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\")\"}),`\n`]}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[\"                    \",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(a.span,{className:\"token function\",children:\"requireAuthorizationConsent\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(a.span,{className:\"token boolean\",children:\"true\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\")\"}),`\n`]}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[\"                    \",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(a.span,{className:\"token function\",children:\"requireProofKey\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(a.span,{className:\"token boolean\",children:\"true\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,n.jsx)(a.span,{className:\"token comment\",children:\"//\\u4EC5\\u652F\\u6301PKCE\"}),`\n`]}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[\"                    \",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(a.span,{className:\"token function\",children:\"build\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\")\"}),`\n`]}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[\"    \",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(a.span,{className:\"token function\",children:\"tokenSettings\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(a.span,{className:\"token class-name\",children:\"TokenSettings\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(a.span,{className:\"token function\",children:\"builder\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\")\"}),`\n`]}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[\"                   \",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(a.span,{className:\"token function\",children:\"accessTokenFormat\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(a.span,{className:\"token class-name\",children:\"OAuth2TokenFormat\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(a.span,{className:\"token constant\",children:\"SELF_CONTAINED\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,n.jsx)(a.span,{className:\"token comment\",children:\"// \\u751F\\u6210JWT\\u4EE4\\u724C\"}),`\n`]}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[\"                   \",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(a.span,{className:\"token function\",children:\"idTokenSignatureAlgorithm\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(a.span,{className:\"token class-name\",children:\"SignatureAlgorithm\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(a.span,{className:\"token constant\",children:\"RS256\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\")\"}),`\n`]}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[\"                   \",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(a.span,{className:\"token function\",children:\"accessTokenTimeToLive\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(a.span,{className:\"token class-name\",children:\"Duration\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(a.span,{className:\"token function\",children:\"ofSeconds\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(a.span,{className:\"token number\",children:\"30\"}),\" \",(0,n.jsx)(a.span,{className:\"token operator\",children:\"*\"}),\" \",(0,n.jsx)(a.span,{className:\"token number\",children:\"60\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\")\"}),`\n`]}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[\"                   \",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(a.span,{className:\"token function\",children:\"refreshTokenTimeToLive\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(a.span,{className:\"token class-name\",children:\"Duration\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(a.span,{className:\"token function\",children:\"ofSeconds\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(a.span,{className:\"token number\",children:\"60\"}),\" \",(0,n.jsx)(a.span,{className:\"token operator\",children:\"*\"}),\" \",(0,n.jsx)(a.span,{className:\"token number\",children:\"60\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\")\"}),`\n`]}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[\"                   \",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(a.span,{className:\"token function\",children:\"reuseRefreshTokens\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(a.span,{className:\"token boolean\",children:\"true\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\")\"}),`\n`]}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[\"                   \",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(a.span,{className:\"token function\",children:\"build\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\")\"}),`\n`]}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[\"    \",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(a.span,{className:\"token function\",children:\"build\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,n.jsx)(a.span,{className:\"code-line\",children:`\n`}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[\"  \",(0,n.jsx)(a.span,{className:\"token keyword\",children:\"return\"}),\" \",(0,n.jsx)(a.span,{className:\"token keyword\",children:\"new\"}),\" \",(0,n.jsx)(a.span,{className:\"token class-name\",children:\"InMemoryRegisteredClientRepository\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"(\"}),\"registeredClient\",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"}\"}),`\n`]}),(0,n.jsx)(a.span,{className:\"code-line\",children:`\n`}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[(0,n.jsx)(a.span,{className:\"token punctuation annotation\",children:\"@Bean\"}),`\n`]}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[(0,n.jsx)(a.span,{className:\"token keyword\",children:\"public\"}),\" \",(0,n.jsx)(a.span,{className:\"token class-name\",children:\"ProviderSettings\"}),\" \",(0,n.jsx)(a.span,{className:\"token function\",children:\"providerSettings\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[\"  \",(0,n.jsx)(a.span,{className:\"token keyword\",children:\"return\"}),\" \",(0,n.jsx)(a.span,{className:\"token class-name\",children:\"ProviderSettings\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(a.span,{className:\"token function\",children:\"builder\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\")\"}),`\n`]}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[\"    \",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(a.span,{className:\"token function\",children:\"issuer\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(a.span,{className:\"token string\",children:'\"http://127.0.0.1:8080\"'}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\")\"}),`\n`]}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[\"    \",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(a.span,{className:\"token function\",children:\"build\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"}\"}),`\n`]}),(0,n.jsx)(a.span,{className:\"code-line\",children:`\n`}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[(0,n.jsx)(a.span,{className:\"token punctuation annotation\",children:\"@Bean\"}),`\n`]}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[(0,n.jsx)(a.span,{className:\"token keyword\",children:\"public\"}),\" \",(0,n.jsx)(a.span,{className:\"token class-name\",children:\"JWKSource\"}),(0,n.jsxs)(a.span,{className:\"token generics\",children:[(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"<\"}),(0,n.jsx)(a.span,{className:\"token class-name\",children:\"SecurityContext\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\">\"})]}),\" \",(0,n.jsx)(a.span,{className:\"token function\",children:\"jwkSource\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[\"  \",(0,n.jsx)(a.span,{className:\"token class-name\",children:\"RSAKey\"}),\" rsaKey \",(0,n.jsx)(a.span,{className:\"token operator\",children:\"=\"}),\" \",(0,n.jsx)(a.span,{className:\"token class-name\",children:\"Jwks\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(a.span,{className:\"token function\",children:\"generateRsa\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[\"  \",(0,n.jsx)(a.span,{className:\"token class-name\",children:\"JWKSet\"}),\" jwkSet \",(0,n.jsx)(a.span,{className:\"token operator\",children:\"=\"}),\" \",(0,n.jsx)(a.span,{className:\"token keyword\",children:\"new\"}),\" \",(0,n.jsx)(a.span,{className:\"token class-name\",children:\"JWKSet\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"(\"}),\"rsaKey\",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[\"  \",(0,n.jsx)(a.span,{className:\"token keyword\",children:\"return\"}),\" \",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"(\"}),\"jwkSelector\",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\",\"}),\" securityContext\",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,n.jsx)(a.span,{className:\"token operator\",children:\"->\"}),\" jwkSelector\",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(a.span,{className:\"token function\",children:\"select\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"(\"}),\"jwkSet\",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"}\"}),`\n`]}),(0,n.jsx)(a.span,{className:\"code-line\",children:`\n`}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[(0,n.jsx)(a.span,{className:\"token keyword\",children:\"static\"}),\" \",(0,n.jsx)(a.span,{className:\"token keyword\",children:\"class\"}),\" \",(0,n.jsx)(a.span,{className:\"token class-name\",children:\"Jwks\"}),\" \",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,n.jsx)(a.span,{className:\"code-line\",children:`\n`}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[\"  \",(0,n.jsx)(a.span,{className:\"token keyword\",children:\"private\"}),\" \",(0,n.jsx)(a.span,{className:\"token class-name\",children:\"Jwks\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[\"  \",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"}\"}),`\n`]}),(0,n.jsx)(a.span,{className:\"code-line\",children:`\n`}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[\"  \",(0,n.jsx)(a.span,{className:\"token keyword\",children:\"public\"}),\" \",(0,n.jsx)(a.span,{className:\"token keyword\",children:\"static\"}),\" \",(0,n.jsx)(a.span,{className:\"token class-name\",children:\"RSAKey\"}),\" \",(0,n.jsx)(a.span,{className:\"token function\",children:\"generateRsa\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[\"    \",(0,n.jsx)(a.span,{className:\"token class-name\",children:\"KeyPair\"}),\" keyPair \",(0,n.jsx)(a.span,{className:\"token operator\",children:\"=\"}),\" \",(0,n.jsx)(a.span,{className:\"token class-name\",children:\"KeyGeneratorUtils\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(a.span,{className:\"token function\",children:\"generateRsaKey\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[\"    \",(0,n.jsx)(a.span,{className:\"token class-name\",children:\"RSAPublicKey\"}),\" publicKey \",(0,n.jsx)(a.span,{className:\"token operator\",children:\"=\"}),\" \",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(a.span,{className:\"token class-name\",children:\"RSAPublicKey\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\")\"}),\" keyPair\",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(a.span,{className:\"token function\",children:\"getPublic\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[\"    \",(0,n.jsx)(a.span,{className:\"token class-name\",children:\"RSAPrivateKey\"}),\" privateKey \",(0,n.jsx)(a.span,{className:\"token operator\",children:\"=\"}),\" \",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(a.span,{className:\"token class-name\",children:\"RSAPrivateKey\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\")\"}),\" keyPair\",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(a.span,{className:\"token function\",children:\"getPrivate\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[\"    \",(0,n.jsx)(a.span,{className:\"token keyword\",children:\"return\"}),\" \",(0,n.jsx)(a.span,{className:\"token keyword\",children:\"new\"}),\" \",(0,n.jsxs)(a.span,{className:\"token class-name\",children:[\"RSAKey\",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\".\"}),\"Builder\"]}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"(\"}),\"publicKey\",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\")\"}),`\n`]}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[\"      \",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(a.span,{className:\"token function\",children:\"privateKey\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"(\"}),\"privateKey\",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\")\"}),`\n`]}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[\"      \",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(a.span,{className:\"token function\",children:\"keyID\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(a.span,{className:\"token constant\",children:\"UUID\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(a.span,{className:\"token function\",children:\"randomUUID\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(a.span,{className:\"token function\",children:\"toString\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\")\"}),`\n`]}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[\"      \",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(a.span,{className:\"token function\",children:\"build\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[\"  \",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"}\"}),`\n`]}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"}\"}),`\n`]}),(0,n.jsx)(a.span,{className:\"code-line\",children:`\n`}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[(0,n.jsx)(a.span,{className:\"token keyword\",children:\"static\"}),\" \",(0,n.jsx)(a.span,{className:\"token keyword\",children:\"class\"}),\" \",(0,n.jsx)(a.span,{className:\"token class-name\",children:\"KeyGeneratorUtils\"}),\" \",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,n.jsx)(a.span,{className:\"code-line\",children:`\n`}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[\"  \",(0,n.jsx)(a.span,{className:\"token keyword\",children:\"private\"}),\" \",(0,n.jsx)(a.span,{className:\"token class-name\",children:\"KeyGeneratorUtils\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[\"  \",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"}\"}),`\n`]}),(0,n.jsx)(a.span,{className:\"code-line\",children:`\n`}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[\"  \",(0,n.jsx)(a.span,{className:\"token keyword\",children:\"static\"}),\" \",(0,n.jsx)(a.span,{className:\"token class-name\",children:\"KeyPair\"}),\" \",(0,n.jsx)(a.span,{className:\"token function\",children:\"generateRsaKey\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[\"    \",(0,n.jsx)(a.span,{className:\"token class-name\",children:\"KeyPair\"}),\" keyPair\",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[\"    \",(0,n.jsx)(a.span,{className:\"token keyword\",children:\"try\"}),\" \",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[\"      \",(0,n.jsx)(a.span,{className:\"token class-name\",children:\"KeyPairGenerator\"}),\" keyPairGenerator \",(0,n.jsx)(a.span,{className:\"token operator\",children:\"=\"}),\" \",(0,n.jsx)(a.span,{className:\"token class-name\",children:\"KeyPairGenerator\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(a.span,{className:\"token function\",children:\"getInstance\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(a.span,{className:\"token string\",children:'\"RSA\"'}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[\"      keyPairGenerator\",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(a.span,{className:\"token function\",children:\"initialize\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(a.span,{className:\"token number\",children:\"2048\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[\"      keyPair \",(0,n.jsx)(a.span,{className:\"token operator\",children:\"=\"}),\" keyPairGenerator\",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(a.span,{className:\"token function\",children:\"generateKeyPair\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[\"    \",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"}\"}),\" \",(0,n.jsx)(a.span,{className:\"token keyword\",children:\"catch\"}),\" \",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(a.span,{className:\"token class-name\",children:\"Exception\"}),\" ex\",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[\"      \",(0,n.jsx)(a.span,{className:\"token keyword\",children:\"throw\"}),\" \",(0,n.jsx)(a.span,{className:\"token keyword\",children:\"new\"}),\" \",(0,n.jsx)(a.span,{className:\"token class-name\",children:\"IllegalStateException\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"(\"}),\"ex\",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[\"    \",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"}\"}),`\n`]}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[\"    \",(0,n.jsx)(a.span,{className:\"token keyword\",children:\"return\"}),\" keyPair\",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[\"  \",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"}\"}),`\n`]}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"}\"}),`\n`]})]})}),(0,n.jsxs)(a.p,{children:[(0,n.jsx)(a.strong,{children:\"\\u8BF7\\u6CE8\\u610F\"}),\"\\u5728\\u521B\\u5EFA\",(0,n.jsx)(a.em,{children:\"RegisteredClient\"}),\"\\u6CE8\\u518C\\u5BA2\\u6237\\u7AEF\\u7C7B\\u4E2D\\uFF0C1.\\u6211\\u4EEC\\u6CA1\\u6709\\u5B9A\\u4E49\",(0,n.jsx)(a.code,{children:\"client_secret\"}),\";2.\\u5BA2\\u6237\\u7AEF\\u8BA4\\u8BC1\\u6A21\\u5F0F\\u6307\\u5B9A\\u4E3Anone\\uFF1B3.requireProofKey()\\u8BBE\\u7F6E\\u4E3Atrue\\uFF0C\\u6B64\\u5BA2\\u6237\\u7AEF\\u4EC5\\u652F\\u6301PKCE\\u3002\"]}),(0,n.jsxs)(a.p,{children:[\"\\u5176\\u4F59\\u914D\\u7F6E\\u6211\\u8FD9\\u91CC\\u5C31\\u4E0D\\u4E00\\u4E00\\u8BF4\\u660E\\uFF0C\\u53EF\\u4EE5\\u53C2\\u8003\",(0,n.jsx)(a.a,{href:\"https://relive27.github.io/blog/spring-security-oauth2-jwt\",children:\"\\u4E4B\\u524D\\u6587\\u7AE0\"}),\"\\u3002\"]}),(0,n.jsx)(\"br\",{}),(0,n.jsx)(a.p,{children:\"\\u63A5\\u4E0B\\u6765\\uFF0C\\u6211\\u4EEC\\u521B\\u5EFA\\u4E00\\u4E2ASpring Security\\u7684\\u914D\\u7F6E\\u7C7B\\uFF0C\\u6307\\u5B9AForm\\u8868\\u5355\\u8BA4\\u8BC1\\u548C\\u8BBE\\u7F6E\\u7528\\u6237\\u540D\\u5BC6\\u7801\\uFF1A\"}),(0,n.jsx)(a.pre,{className:\"language-java\",children:(0,n.jsxs)(a.code,{className:\"code-highlight language-java\",children:[(0,n.jsxs)(a.span,{className:\"code-line\",children:[(0,n.jsx)(a.span,{className:\"token punctuation annotation\",children:\"@Configuration\"}),`\n`]}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[(0,n.jsx)(a.span,{className:\"token keyword\",children:\"public\"}),\" \",(0,n.jsx)(a.span,{className:\"token keyword\",children:\"class\"}),\" \",(0,n.jsx)(a.span,{className:\"token class-name\",children:\"SecurityConfig\"}),\" \",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,n.jsx)(a.span,{className:\"code-line\",children:`\n`}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[\"    \",(0,n.jsx)(a.span,{className:\"token punctuation annotation\",children:\"@Bean\"}),`\n`]}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[\"    \",(0,n.jsx)(a.span,{className:\"token class-name\",children:\"SecurityFilterChain\"}),\" \",(0,n.jsx)(a.span,{className:\"token function\",children:\"defaultSecurityFilterChain\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(a.span,{className:\"token class-name\",children:\"HttpSecurity\"}),\" http\",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,n.jsx)(a.span,{className:\"token keyword\",children:\"throws\"}),\" \",(0,n.jsx)(a.span,{className:\"token class-name\",children:\"Exception\"}),\" \",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,n.jsx)(a.span,{className:\"code-line\",children:`        http\n`}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[\"                \",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(a.span,{className:\"token function\",children:\"authorizeRequests\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"(\"}),\"authorizeRequests \",(0,n.jsx)(a.span,{className:\"token operator\",children:\"->\"}),`\n`]}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[\"                        authorizeRequests\",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(a.span,{className:\"token function\",children:\"anyRequest\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(a.span,{className:\"token function\",children:\"authenticated\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\")\"}),`\n`]}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[\"                \",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\")\"}),`\n`]}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[\"                \",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(a.span,{className:\"token function\",children:\"formLogin\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(a.span,{className:\"token function\",children:\"withDefaults\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[\"        \",(0,n.jsx)(a.span,{className:\"token keyword\",children:\"return\"}),\" http\",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(a.span,{className:\"token function\",children:\"build\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[\"    \",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"}\"}),`\n`]}),(0,n.jsx)(a.span,{className:\"code-line\",children:`\n`}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[\"    \",(0,n.jsx)(a.span,{className:\"token punctuation annotation\",children:\"@Bean\"}),`\n`]}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[\"    \",(0,n.jsx)(a.span,{className:\"token class-name\",children:\"UserDetailsService\"}),\" \",(0,n.jsx)(a.span,{className:\"token function\",children:\"users\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[\"        \",(0,n.jsx)(a.span,{className:\"token class-name\",children:\"UserDetails\"}),\" user \",(0,n.jsx)(a.span,{className:\"token operator\",children:\"=\"}),\" \",(0,n.jsx)(a.span,{className:\"token class-name\",children:\"User\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(a.span,{className:\"token function\",children:\"withDefaultPasswordEncoder\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\")\"}),`\n`]}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[\"                \",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(a.span,{className:\"token function\",children:\"username\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(a.span,{className:\"token string\",children:'\"admin\"'}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\")\"}),`\n`]}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[\"                \",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(a.span,{className:\"token function\",children:\"password\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(a.span,{className:\"token string\",children:'\"password\"'}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\")\"}),`\n`]}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[\"                \",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(a.span,{className:\"token function\",children:\"roles\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(a.span,{className:\"token string\",children:'\"USER\"'}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\")\"}),`\n`]}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[\"                \",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(a.span,{className:\"token function\",children:\"build\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[\"        \",(0,n.jsx)(a.span,{className:\"token keyword\",children:\"return\"}),\" \",(0,n.jsx)(a.span,{className:\"token keyword\",children:\"new\"}),\" \",(0,n.jsx)(a.span,{className:\"token class-name\",children:\"InMemoryUserDetailsManager\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"(\"}),\"user\",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[\"    \",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"}\"}),`\n`]}),(0,n.jsx)(a.span,{className:\"code-line\",children:`\n`}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[\"    \",(0,n.jsx)(a.span,{className:\"token punctuation annotation\",children:\"@Bean\"}),`\n`]}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[\"    \",(0,n.jsx)(a.span,{className:\"token class-name\",children:\"PasswordEncoder\"}),\" \",(0,n.jsx)(a.span,{className:\"token function\",children:\"passwordEncoder\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[\"        \",(0,n.jsx)(a.span,{className:\"token keyword\",children:\"return\"}),\" \",(0,n.jsx)(a.span,{className:\"token class-name\",children:\"PasswordEncoderFactories\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(a.span,{className:\"token function\",children:\"createDelegatingPasswordEncoder\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[\"    \",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"}\"}),`\n`]}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"}\"}),`\n`]}),(0,n.jsx)(a.span,{className:\"code-line\",children:`\n`})]})}),(0,n.jsx)(a.p,{children:\"\\u81F3\\u6B64\\u6211\\u4EEC\\u5C31\\u5DF2\\u7ECF\\u914D\\u7F6E\\u597D\\u4E86\\u4E00\\u4E2A\\u7B80\\u5355\\u7684\\u6388\\u6743\\u670D\\u52A1\\u5668\\u3002\"}),(0,n.jsxs)(a.h3,{id:\"oauth2\\u5BA2\\u6237\\u7AEF\",children:[(0,n.jsx)(a.a,{href:\"#oauth2\\u5BA2\\u6237\\u7AEF\",\"aria-hidden\":\"true\",tabIndex:\"-1\",children:(0,n.jsx)(a.span,{className:\"icon icon-link\"})}),\"OAuth2\\u5BA2\\u6237\\u7AEF\"]}),(0,n.jsxs)(a.p,{children:[\"\\u672C\\u8282\\u4E2D\\u6211\\u4EEC\\u4F7F\\u7528\",(0,n.jsx)(a.a,{href:\"https://docs.spring.io/spring-security/reference/servlet/oauth2/client/index.html\",children:\"Spring Security\"}),\"\\u521B\\u5EFA\\u4E00\\u4E2A\\u5BA2\\u6237\\u7AEF\\uFF0C\\u6B64\\u5BA2\\u6237\\u7AEF\\u901A\\u8FC7PKCE\\u6388\\u6743\\u7801\\u6D41\\u5411\\u6388\\u6743\\u670D\\u52A1\\u5668\\u8BF7\\u6C42\\u6388\\u6743\\uFF0C\\u5E76\\u5C06\\u83B7\\u53D6\\u7684access_token\\u53D1\\u9001\\u5230\\u8D44\\u6E90\\u670D\\u52A1\\u3002\"]}),(0,n.jsxs)(a.h4,{id:\"maven-1\",children:[(0,n.jsx)(a.a,{href:\"#maven-1\",\"aria-hidden\":\"true\",tabIndex:\"-1\",children:(0,n.jsx)(a.span,{className:\"icon icon-link\"})}),\"maven\"]}),(0,n.jsx)(a.pre,{className:\"language-xml\",children:(0,n.jsxs)(a.code,{className:\"code-highlight language-xml\",children:[(0,n.jsxs)(a.span,{className:\"code-line\",children:[(0,n.jsxs)(a.span,{className:\"token tag\",children:[(0,n.jsxs)(a.span,{className:\"token tag\",children:[(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"<\"}),\"dependency\"]}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\">\"})]}),`\n`]}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[\"  \",(0,n.jsxs)(a.span,{className:\"token tag\",children:[(0,n.jsxs)(a.span,{className:\"token tag\",children:[(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"<\"}),\"groupId\"]}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\">\"})]}),\"org.springframework.boot\",(0,n.jsxs)(a.span,{className:\"token tag\",children:[(0,n.jsxs)(a.span,{className:\"token tag\",children:[(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"</\"}),\"groupId\"]}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\">\"})]}),`\n`]}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[\"  \",(0,n.jsxs)(a.span,{className:\"token tag\",children:[(0,n.jsxs)(a.span,{className:\"token tag\",children:[(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"<\"}),\"artifactId\"]}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\">\"})]}),\"spring-boot-starter-web\",(0,n.jsxs)(a.span,{className:\"token tag\",children:[(0,n.jsxs)(a.span,{className:\"token tag\",children:[(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"</\"}),\"artifactId\"]}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\">\"})]}),`\n`]}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[\"  \",(0,n.jsxs)(a.span,{className:\"token tag\",children:[(0,n.jsxs)(a.span,{className:\"token tag\",children:[(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"<\"}),\"version\"]}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\">\"})]}),\"2.6.7\",(0,n.jsxs)(a.span,{className:\"token tag\",children:[(0,n.jsxs)(a.span,{className:\"token tag\",children:[(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"</\"}),\"version\"]}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\">\"})]}),`\n`]}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[(0,n.jsxs)(a.span,{className:\"token tag\",children:[(0,n.jsxs)(a.span,{className:\"token tag\",children:[(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"</\"}),\"dependency\"]}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\">\"})]}),`\n`]}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[(0,n.jsxs)(a.span,{className:\"token tag\",children:[(0,n.jsxs)(a.span,{className:\"token tag\",children:[(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"<\"}),\"dependency\"]}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\">\"})]}),`\n`]}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[\"  \",(0,n.jsxs)(a.span,{className:\"token tag\",children:[(0,n.jsxs)(a.span,{className:\"token tag\",children:[(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"<\"}),\"groupId\"]}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\">\"})]}),\"org.springframework.boot\",(0,n.jsxs)(a.span,{className:\"token tag\",children:[(0,n.jsxs)(a.span,{className:\"token tag\",children:[(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"</\"}),\"groupId\"]}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\">\"})]}),`\n`]}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[\"  \",(0,n.jsxs)(a.span,{className:\"token tag\",children:[(0,n.jsxs)(a.span,{className:\"token tag\",children:[(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"<\"}),\"artifactId\"]}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\">\"})]}),\"spring-boot-starter-security\",(0,n.jsxs)(a.span,{className:\"token tag\",children:[(0,n.jsxs)(a.span,{className:\"token tag\",children:[(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"</\"}),\"artifactId\"]}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\">\"})]}),`\n`]}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[\"  \",(0,n.jsxs)(a.span,{className:\"token tag\",children:[(0,n.jsxs)(a.span,{className:\"token tag\",children:[(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"<\"}),\"version\"]}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\">\"})]}),\"2.6.7\",(0,n.jsxs)(a.span,{className:\"token tag\",children:[(0,n.jsxs)(a.span,{className:\"token tag\",children:[(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"</\"}),\"version\"]}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\">\"})]}),`\n`]}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[(0,n.jsxs)(a.span,{className:\"token tag\",children:[(0,n.jsxs)(a.span,{className:\"token tag\",children:[(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"</\"}),\"dependency\"]}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\">\"})]}),`\n`]}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[(0,n.jsxs)(a.span,{className:\"token tag\",children:[(0,n.jsxs)(a.span,{className:\"token tag\",children:[(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"<\"}),\"dependency\"]}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\">\"})]}),`\n`]}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[\"  \",(0,n.jsxs)(a.span,{className:\"token tag\",children:[(0,n.jsxs)(a.span,{className:\"token tag\",children:[(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"<\"}),\"groupId\"]}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\">\"})]}),\"org.springframework.boot\",(0,n.jsxs)(a.span,{className:\"token tag\",children:[(0,n.jsxs)(a.span,{className:\"token tag\",children:[(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"</\"}),\"groupId\"]}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\">\"})]}),`\n`]}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[\"  \",(0,n.jsxs)(a.span,{className:\"token tag\",children:[(0,n.jsxs)(a.span,{className:\"token tag\",children:[(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"<\"}),\"artifactId\"]}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\">\"})]}),\"spring-boot-starter-oauth2-client\",(0,n.jsxs)(a.span,{className:\"token tag\",children:[(0,n.jsxs)(a.span,{className:\"token tag\",children:[(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"</\"}),\"artifactId\"]}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\">\"})]}),`\n`]}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[\"  \",(0,n.jsxs)(a.span,{className:\"token tag\",children:[(0,n.jsxs)(a.span,{className:\"token tag\",children:[(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"<\"}),\"version\"]}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\">\"})]}),\"2.6.7\",(0,n.jsxs)(a.span,{className:\"token tag\",children:[(0,n.jsxs)(a.span,{className:\"token tag\",children:[(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"</\"}),\"version\"]}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\">\"})]}),`\n`]}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[(0,n.jsxs)(a.span,{className:\"token tag\",children:[(0,n.jsxs)(a.span,{className:\"token tag\",children:[(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"</\"}),\"dependency\"]}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\">\"})]}),`\n`]}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[(0,n.jsxs)(a.span,{className:\"token tag\",children:[(0,n.jsxs)(a.span,{className:\"token tag\",children:[(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"<\"}),\"dependency\"]}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\">\"})]}),`\n`]}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[\"  \",(0,n.jsxs)(a.span,{className:\"token tag\",children:[(0,n.jsxs)(a.span,{className:\"token tag\",children:[(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"<\"}),\"groupId\"]}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\">\"})]}),\"org.springframework\",(0,n.jsxs)(a.span,{className:\"token tag\",children:[(0,n.jsxs)(a.span,{className:\"token tag\",children:[(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"</\"}),\"groupId\"]}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\">\"})]}),`\n`]}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[\"  \",(0,n.jsxs)(a.span,{className:\"token tag\",children:[(0,n.jsxs)(a.span,{className:\"token tag\",children:[(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"<\"}),\"artifactId\"]}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\">\"})]}),\"spring-webflux\",(0,n.jsxs)(a.span,{className:\"token tag\",children:[(0,n.jsxs)(a.span,{className:\"token tag\",children:[(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"</\"}),\"artifactId\"]}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\">\"})]}),`\n`]}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[\"  \",(0,n.jsxs)(a.span,{className:\"token tag\",children:[(0,n.jsxs)(a.span,{className:\"token tag\",children:[(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"<\"}),\"version\"]}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\">\"})]}),\"5.3.9\",(0,n.jsxs)(a.span,{className:\"token tag\",children:[(0,n.jsxs)(a.span,{className:\"token tag\",children:[(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"</\"}),\"version\"]}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\">\"})]}),`\n`]}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[(0,n.jsxs)(a.span,{className:\"token tag\",children:[(0,n.jsxs)(a.span,{className:\"token tag\",children:[(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"</\"}),\"dependency\"]}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\">\"})]}),`\n`]}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[(0,n.jsxs)(a.span,{className:\"token tag\",children:[(0,n.jsxs)(a.span,{className:\"token tag\",children:[(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"<\"}),\"dependency\"]}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\">\"})]}),`\n`]}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[\"  \",(0,n.jsxs)(a.span,{className:\"token tag\",children:[(0,n.jsxs)(a.span,{className:\"token tag\",children:[(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"<\"}),\"groupId\"]}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\">\"})]}),\"io.projectreactor.netty\",(0,n.jsxs)(a.span,{className:\"token tag\",children:[(0,n.jsxs)(a.span,{className:\"token tag\",children:[(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"</\"}),\"groupId\"]}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\">\"})]}),`\n`]}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[\"  \",(0,n.jsxs)(a.span,{className:\"token tag\",children:[(0,n.jsxs)(a.span,{className:\"token tag\",children:[(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"<\"}),\"artifactId\"]}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\">\"})]}),\"reactor-netty\",(0,n.jsxs)(a.span,{className:\"token tag\",children:[(0,n.jsxs)(a.span,{className:\"token tag\",children:[(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"</\"}),\"artifactId\"]}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\">\"})]}),`\n`]}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[\"  \",(0,n.jsxs)(a.span,{className:\"token tag\",children:[(0,n.jsxs)(a.span,{className:\"token tag\",children:[(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"<\"}),\"version\"]}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\">\"})]}),\"1.0.9\",(0,n.jsxs)(a.span,{className:\"token tag\",children:[(0,n.jsxs)(a.span,{className:\"token tag\",children:[(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"</\"}),\"version\"]}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\">\"})]}),`\n`]}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[(0,n.jsxs)(a.span,{className:\"token tag\",children:[(0,n.jsxs)(a.span,{className:\"token tag\",children:[(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"</\"}),\"dependency\"]}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\">\"})]}),`\n`]}),(0,n.jsx)(a.span,{className:\"code-line\",children:`\n`})]})}),(0,n.jsxs)(a.h4,{id:\"\\u914D\\u7F6E-1\",children:[(0,n.jsx)(a.a,{href:\"#\\u914D\\u7F6E-1\",\"aria-hidden\":\"true\",tabIndex:\"-1\",children:(0,n.jsx)(a.span,{className:\"icon icon-link\"})}),\"\\u914D\\u7F6E\"]}),(0,n.jsx)(a.p,{children:\"\\u9996\\u5148\\u6211\\u4EEC\\u5C06\\u5728application.yml\\u4E2D\\u914D\\u7F6E\\u5BA2\\u6237\\u7AEF\\u4FE1\\u606F\\uFF0C\\u5E76\\u6307\\u5B9A\\u670D\\u52A1\\u7AEF\\u53E3\\u53F7\\u4E3A8070\\uFF1A\"}),(0,n.jsx)(a.pre,{className:\"language-yaml\",children:(0,n.jsxs)(a.code,{className:\"code-highlight language-yaml\",children:[(0,n.jsxs)(a.span,{className:\"code-line\",children:[(0,n.jsx)(a.span,{className:\"token atrule key\",children:\"server\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\":\"}),`\n`]}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[\"  \",(0,n.jsx)(a.span,{className:\"token atrule key\",children:\"port\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\":\"}),\" \",(0,n.jsx)(a.span,{className:\"token number\",children:\"8070\"}),`\n`]}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[\"  \",(0,n.jsx)(a.span,{className:\"token atrule key\",children:\"servlet\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\":\"}),`\n`]}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[\"    \",(0,n.jsx)(a.span,{className:\"token atrule key\",children:\"session\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\":\"}),`\n`]}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[\"      \",(0,n.jsx)(a.span,{className:\"token atrule key\",children:\"cookie\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\":\"}),`\n`]}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[\"        \",(0,n.jsx)(a.span,{className:\"token atrule key\",children:\"name\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\":\"}),\" CLIENT\",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"-\"}),`SESSION\n`]}),(0,n.jsx)(a.span,{className:\"code-line\",children:`\n`}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[(0,n.jsx)(a.span,{className:\"token atrule key\",children:\"spring\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\":\"}),`\n`]}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[\"  \",(0,n.jsx)(a.span,{className:\"token atrule key\",children:\"security\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\":\"}),`\n`]}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[\"    \",(0,n.jsx)(a.span,{className:\"token atrule key\",children:\"oauth2\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\":\"}),`\n`]}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[\"      \",(0,n.jsx)(a.span,{className:\"token atrule key\",children:\"client\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\":\"}),`\n`]}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[\"        \",(0,n.jsx)(a.span,{className:\"token atrule key\",children:\"registration\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\":\"}),`\n`]}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[\"          \",(0,n.jsx)(a.span,{className:\"token atrule key\",children:\"messaging-client-pkce\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\":\"}),`\n`]}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[\"            \",(0,n.jsx)(a.span,{className:\"token atrule key\",children:\"provider\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\":\"}),\" client\",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"-\"}),`provider\n`]}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[\"            \",(0,n.jsx)(a.span,{className:\"token atrule key\",children:\"client-id\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\":\"}),\" relive\",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"-\"}),`client\n`]}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[\"            \",(0,n.jsx)(a.span,{className:\"token atrule key\",children:\"client-secret\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\":\"}),\" relive\",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"-\"}),`client\n`]}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[\"            \",(0,n.jsx)(a.span,{className:\"token atrule key\",children:\"authorization-grant-type\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\":\"}),` authorization_code\n`]}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[\"            \",(0,n.jsx)(a.span,{className:\"token atrule key\",children:\"client-authentication-method\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\":\"}),` none\n`]}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[\"            \",(0,n.jsx)(a.span,{className:\"token atrule key\",children:\"redirect-uri\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\":\"}),\" \",(0,n.jsx)(a.span,{className:\"token string\",children:'\"http://127.0.0.1:8070/login/oauth2/code/{registrationId}\"'}),`\n`]}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[\"            \",(0,n.jsx)(a.span,{className:\"token atrule key\",children:\"scope\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\":\"}),` message.read\n`]}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[\"            \",(0,n.jsx)(a.span,{className:\"token atrule key\",children:\"client-name\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\":\"}),\" messaging\",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"-\"}),\"client\",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"-\"}),`pkce\n`]}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[\"        \",(0,n.jsx)(a.span,{className:\"token atrule key\",children:\"provider\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\":\"}),`\n`]}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[\"          \",(0,n.jsx)(a.span,{className:\"token atrule key\",children:\"client-provider\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\":\"}),`\n`]}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[\"            \",(0,n.jsx)(a.span,{className:\"token atrule key\",children:\"authorization-uri\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\":\"}),\" http\",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\":\"}),\"//127.0.0.1\",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\":\"}),`8080/oauth2/authorize\n`]}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[\"            \",(0,n.jsx)(a.span,{className:\"token atrule key\",children:\"token-uri\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\":\"}),\" http\",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\":\"}),\"//127.0.0.1\",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\":\"}),`8080/oauth2/token\n`]}),(0,n.jsx)(a.span,{className:\"code-line\",children:`\n`})]})}),(0,n.jsx)(\"br\",{}),(0,n.jsx)(a.p,{children:\"\\u63A5\\u4E0B\\u6765\\uFF0C\\u6211\\u4EEC\\u521B\\u5EFASpring Security\\u914D\\u7F6E\\u7C7B\\uFF0C\\u542F\\u7528OAuth2\\u5BA2\\u6237\\u7AEF\\u3002\"}),(0,n.jsx)(a.pre,{className:\"language-java\",children:(0,n.jsxs)(a.code,{className:\"code-highlight language-java\",children:[(0,n.jsxs)(a.span,{className:\"code-line\",children:[(0,n.jsx)(a.span,{className:\"token punctuation annotation\",children:\"@Configuration\"}),`\n`]}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[(0,n.jsx)(a.span,{className:\"token keyword\",children:\"public\"}),\" \",(0,n.jsx)(a.span,{className:\"token keyword\",children:\"class\"}),\" \",(0,n.jsx)(a.span,{className:\"token class-name\",children:\"SecurityConfig\"}),\" \",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,n.jsx)(a.span,{className:\"code-line\",children:`\n`}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[\"    \",(0,n.jsx)(a.span,{className:\"token punctuation annotation\",children:\"@Bean\"}),`\n`]}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[\"    \",(0,n.jsx)(a.span,{className:\"token class-name\",children:\"SecurityFilterChain\"}),\" \",(0,n.jsx)(a.span,{className:\"token function\",children:\"securityFilterChain\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(a.span,{className:\"token class-name\",children:\"HttpSecurity\"}),\" http\",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,n.jsx)(a.span,{className:\"token keyword\",children:\"throws\"}),\" \",(0,n.jsx)(a.span,{className:\"token class-name\",children:\"Exception\"}),\" \",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,n.jsx)(a.span,{className:\"code-line\",children:`        http\n`}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[\"                \",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(a.span,{className:\"token function\",children:\"authorizeRequests\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"(\"}),\"authorizeRequests \",(0,n.jsx)(a.span,{className:\"token operator\",children:\"->\"}),`\n`]}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[\"                        \",(0,n.jsx)(a.span,{className:\"token comment\",children:\"//\\u4FBF\\u4E8E\\u6D4B\\u8BD5\\uFF0C\\u5C06\\u6743\\u9650\\u5F00\\u653E\"}),`\n`]}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[\"                        authorizeRequests\",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(a.span,{className:\"token function\",children:\"anyRequest\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(a.span,{className:\"token function\",children:\"permitAll\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\")\"}),`\n`]}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[\"                \",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\")\"}),`\n`]}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[\"                \",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(a.span,{className:\"token function\",children:\"oauth2Client\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(a.span,{className:\"token function\",children:\"withDefaults\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[\"        \",(0,n.jsx)(a.span,{className:\"token keyword\",children:\"return\"}),\" http\",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(a.span,{className:\"token function\",children:\"build\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[\"    \",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"}\"}),`\n`]}),(0,n.jsx)(a.span,{className:\"code-line\",children:`\n`}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[\"    \",(0,n.jsx)(a.span,{className:\"token punctuation annotation\",children:\"@Bean\"}),`\n`]}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[\"    \",(0,n.jsx)(a.span,{className:\"token class-name\",children:\"WebClient\"}),\" \",(0,n.jsx)(a.span,{className:\"token function\",children:\"webClient\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(a.span,{className:\"token class-name\",children:\"OAuth2AuthorizedClientManager\"}),\" authorizedClientManager\",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[\"        \",(0,n.jsx)(a.span,{className:\"token class-name\",children:\"ServletOAuth2AuthorizedClientExchangeFilterFunction\"}),\" oauth2Client \",(0,n.jsx)(a.span,{className:\"token operator\",children:\"=\"}),\" \",(0,n.jsx)(a.span,{className:\"token keyword\",children:\"new\"}),\" \",(0,n.jsx)(a.span,{className:\"token class-name\",children:\"ServletOAuth2AuthorizedClientExchangeFilterFunction\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"(\"}),\"authorizedClientManager\",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[\"        \",(0,n.jsx)(a.span,{className:\"token keyword\",children:\"return\"}),\" \",(0,n.jsx)(a.span,{className:\"token class-name\",children:\"WebClient\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(a.span,{className:\"token function\",children:\"builder\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\")\"}),`\n`]}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[\"                \",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(a.span,{className:\"token function\",children:\"filter\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"(\"}),\"oauth2Client\",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\")\"}),`\n`]}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[\"                \",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(a.span,{className:\"token function\",children:\"build\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[\"    \",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"}\"}),`\n`]}),(0,n.jsx)(a.span,{className:\"code-line\",children:`\n`}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[\"    \",(0,n.jsx)(a.span,{className:\"token punctuation annotation\",children:\"@Bean\"}),`\n`]}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[\"    \",(0,n.jsx)(a.span,{className:\"token class-name\",children:\"OAuth2AuthorizedClientManager\"}),\" \",(0,n.jsx)(a.span,{className:\"token function\",children:\"authorizedClientManager\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(a.span,{className:\"token class-name\",children:\"ClientRegistrationRepository\"}),\" clientRegistrationRepository\",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[\"                                                          \",(0,n.jsx)(a.span,{className:\"token class-name\",children:\"OAuth2AuthorizedClientRepository\"}),\" authorizedClientRepository\",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,n.jsx)(a.span,{className:\"code-line\",children:`\n`}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[\"        \",(0,n.jsx)(a.span,{className:\"token class-name\",children:\"OAuth2AuthorizedClientProvider\"}),\" authorizedClientProvider \",(0,n.jsx)(a.span,{className:\"token operator\",children:\"=\"}),\" \",(0,n.jsx)(a.span,{className:\"token class-name\",children:\"OAuth2AuthorizedClientProviderBuilder\"}),`\n`]}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[\"                \",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(a.span,{className:\"token function\",children:\"builder\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\")\"}),`\n`]}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[\"                \",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(a.span,{className:\"token function\",children:\"authorizationCode\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\")\"}),`\n`]}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[\"                \",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(a.span,{className:\"token function\",children:\"refreshToken\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\")\"}),`\n`]}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[\"                \",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(a.span,{className:\"token function\",children:\"build\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[\"        \",(0,n.jsx)(a.span,{className:\"token class-name\",children:\"DefaultOAuth2AuthorizedClientManager\"}),\" authorizedClientManager \",(0,n.jsx)(a.span,{className:\"token operator\",children:\"=\"}),\" \",(0,n.jsx)(a.span,{className:\"token keyword\",children:\"new\"}),\" \",(0,n.jsx)(a.span,{className:\"token class-name\",children:\"DefaultOAuth2AuthorizedClientManager\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"(\"}),\"clientRegistrationRepository\",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\",\"}),\" authorizedClientRepository\",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[\"        authorizedClientManager\",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(a.span,{className:\"token function\",children:\"setAuthorizedClientProvider\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"(\"}),\"authorizedClientProvider\",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,n.jsx)(a.span,{className:\"code-line\",children:`\n`}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[\"        \",(0,n.jsx)(a.span,{className:\"token keyword\",children:\"return\"}),\" authorizedClientManager\",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[\"    \",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"}\"}),`\n`]}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"}\"}),`\n`]}),(0,n.jsx)(a.span,{className:\"code-line\",children:`\n`})]})}),(0,n.jsxs)(a.p,{children:[\"\\u4E0A\\u8FF0\\u914D\\u7F6E\\u7C7B\\u4E2D\\u6211\\u4EEC\\u901A\\u8FC7\",(0,n.jsxs)(a.em,{children:[\"oauth2Client(withDefaults())\",(0,n.jsxs)(a.em,{children:[\"\\u542F\\u7528OAuth2\\u5BA2\\u6237\\u7AEF\\u3002\\u5E76\\u521B\\u5EFA\\u4E00\\u4E2AWebClient\\u5B9E\\u4F8B\\u7528\\u4E8E\\u5411\\u8D44\\u6E90\\u670D\\u52A1\\u5668\\u6267\\u884CHTTP\\u8BF7\\u6C42\\u3002\",(0,n.jsx)(a.code,{children:\"OAuth2AuthorizedClientManager\"}),\"\\u8FD9\\u662F\\u534F\\u8C03OAuth2\\u6388\\u6743\\u7801\\u8BF7\\u6C42\\u7684\\u9AD8\\u7EA7\\u63A7\\u5236\\u5668\\u7C7B\\uFF0C\\u4E0D\\u8FC7\\u6388\\u6743\\u7801\\u6D41\\u7A0B\\u5E76\\u4E0D\\u662F\\u7531\\u5B83\\u63A7\\u5236\\uFF0C\\u53EF\\u4EE5\\u67E5\\u770B\\u5B83\\u6240\\u7BA1\\u7406\\u7684\"]}),\"Provider\"]}),\"\\u5B9E\\u73B0\\u7C7B\",(0,n.jsx)(a.em,{children:\"AuthorizationCodeOAuth2AuthorizedClientProvider\"}),\"\\u4E2D\\u5E76\\u6CA1\\u6709\\u6D89\\u53CA\\u76F8\\u5173\\u6388\\u6743\\u7801\\u6D41\\u7A0B\\u4EE3\\u7801\\u903B\\u8F91\\uFF0C\\u5BF9\\u4E8ESpring Security\\u6388\\u6743\\u7801\\u6A21\\u5F0F\\u6D89\\u53CA\\u6838\\u5FC3\\u63A5\\u53E3\\u6D41\\u7A0B\\u6211\\u4F1A\\u653E\\u5728\\u4E4B\\u540E\\u7684\\u6587\\u7AE0\\u7EDF\\u4E00\\u4ECB\\u7ECD\\u3002\\u56DE\\u5230\",(0,n.jsx)(a.em,{children:\"OAuth2AuthorizedClientManager\"}),\"\\u7C7B\\u4E2D\\uFF0C\\u6211\\u4EEC\\u53EF\\u4EE5\\u770B\\u5230\\u540C\\u65F6\\u8FD8\\u6307\\u5B9A\\u4E86\",(0,n.jsx)(a.em,{children:\"refreshToken()\"}),\",\\u5B83\\u5B9E\\u73B0\\u4E86\\u5237\\u65B0token\\u903B\\u8F91\\uFF0C\\u5C06\\u5728\\u8BF7\\u6C42\\u8D44\\u6E90\\u670D\\u52A1\\u8FC7\\u7A0B\\u4E2Daccess_token\\u8FC7\\u671F\\u540E\\u5C06\\u5237\\u65B0token\\uFF0C\\u524D\\u63D0\\u662Frefresh_token\\u6CA1\\u6709\\u8FC7\\u671F\\uFF0C\\u5426\\u5219\\u4F60\\u5C06\\u91CD\\u65B0\\u6267\\u884COAuth2\\u6388\\u6743\\u7801\\u6D41\\u7A0B\\u3002\"]}),(0,n.jsx)(\"br\",{}),(0,n.jsx)(a.p,{children:\"\\u63A5\\u4E0B\\u6765\\uFF0C\\u6211\\u4EEC\\u521B\\u5EFA\\u4E00\\u4E2AController\\u7C7B\\uFF0C\\u4F7F\\u7528WebClient\\u8BF7\\u6C42\\u8D44\\u6E90\\u670D\\u52A1\\uFF1A\"}),(0,n.jsx)(a.pre,{className:\"language-java\",children:(0,n.jsxs)(a.code,{className:\"code-highlight language-java\",children:[(0,n.jsxs)(a.span,{className:\"code-line\",children:[(0,n.jsx)(a.span,{className:\"token punctuation annotation\",children:\"@RestController\"}),`\n`]}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[(0,n.jsx)(a.span,{className:\"token keyword\",children:\"public\"}),\" \",(0,n.jsx)(a.span,{className:\"token keyword\",children:\"class\"}),\" \",(0,n.jsx)(a.span,{className:\"token class-name\",children:\"PkceClientController\"}),\" \",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,n.jsx)(a.span,{className:\"code-line\",children:`\n`}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[\"    \",(0,n.jsx)(a.span,{className:\"token punctuation annotation\",children:\"@Autowired\"}),`\n`]}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[\"    \",(0,n.jsx)(a.span,{className:\"token keyword\",children:\"private\"}),\" \",(0,n.jsx)(a.span,{className:\"token class-name\",children:\"WebClient\"}),\" webClient\",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,n.jsx)(a.span,{className:\"code-line\",children:`\n`}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[\"    \",(0,n.jsx)(a.span,{className:\"token punctuation annotation\",children:\"@GetMapping\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"(\"}),\"value \",(0,n.jsx)(a.span,{className:\"token operator\",children:\"=\"}),\" \",(0,n.jsx)(a.span,{className:\"token string\",children:'\"/client/test\"'}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\")\"}),`\n`]}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[\"    \",(0,n.jsx)(a.span,{className:\"token keyword\",children:\"public\"}),\" \",(0,n.jsx)(a.span,{className:\"token class-name\",children:\"List\"}),\" \",(0,n.jsx)(a.span,{className:\"token function\",children:\"getArticles\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(a.span,{className:\"token punctuation annotation\",children:\"@RegisteredOAuth2AuthorizedClient\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(a.span,{className:\"token string\",children:'\"messaging-client-pkce\"'}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,n.jsx)(a.span,{className:\"token class-name\",children:\"OAuth2AuthorizedClient\"}),\" authorizedClient\",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[\"        \",(0,n.jsx)(a.span,{className:\"token keyword\",children:\"return\"}),\" \",(0,n.jsx)(a.span,{className:\"token keyword\",children:\"this\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\".\"}),`webClient\n`]}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[\"                \",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(a.span,{className:\"token function\",children:\"get\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\")\"}),`\n`]}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[\"                \",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(a.span,{className:\"token function\",children:\"uri\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(a.span,{className:\"token string\",children:'\"http://127.0.0.1:8090/resource/article\"'}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\")\"}),`\n`]}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[\"                \",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(a.span,{className:\"token function\",children:\"attributes\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(a.span,{className:\"token function\",children:\"oauth2AuthorizedClient\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"(\"}),\"authorizedClient\",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\")\"}),`\n`]}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[\"                \",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(a.span,{className:\"token function\",children:\"retrieve\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\")\"}),`\n`]}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[\"                \",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(a.span,{className:\"token function\",children:\"bodyToMono\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(a.span,{className:\"token class-name\",children:\"List\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(a.span,{className:\"token keyword\",children:\"class\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\")\"}),`\n`]}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[\"                \",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(a.span,{className:\"token function\",children:\"block\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[\"    \",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"}\"}),`\n`]}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"}\"}),`\n`]})]})}),(0,n.jsxs)(a.h3,{id:\"\\u8D44\\u6E90\\u670D\\u52A1\\u5668\",children:[(0,n.jsx)(a.a,{href:\"#\\u8D44\\u6E90\\u670D\\u52A1\\u5668\",\"aria-hidden\":\"true\",tabIndex:\"-1\",children:(0,n.jsx)(a.span,{className:\"icon icon-link\"})}),\"\\u8D44\\u6E90\\u670D\\u52A1\\u5668\"]}),(0,n.jsx)(a.p,{children:\"\\u672C\\u8282\\u4E2D\\uFF0C\\u6211\\u4EEC\\u5C06\\u4F7F\\u7528Spring Security\\u642D\\u5EFA\\u4E00\\u4E2A\\u8D44\\u6E90\\u670D\\u52A1\\u5668\\u3002\"}),(0,n.jsxs)(a.h4,{id:\"maven-2\",children:[(0,n.jsx)(a.a,{href:\"#maven-2\",\"aria-hidden\":\"true\",tabIndex:\"-1\",children:(0,n.jsx)(a.span,{className:\"icon icon-link\"})}),\"maven\"]}),(0,n.jsx)(a.pre,{className:\"language-xml\",children:(0,n.jsxs)(a.code,{className:\"code-highlight language-xml\",children:[(0,n.jsxs)(a.span,{className:\"code-line\",children:[(0,n.jsxs)(a.span,{className:\"token tag\",children:[(0,n.jsxs)(a.span,{className:\"token tag\",children:[(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"<\"}),\"dependency\"]}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\">\"})]}),`\n`]}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[\"  \",(0,n.jsxs)(a.span,{className:\"token tag\",children:[(0,n.jsxs)(a.span,{className:\"token tag\",children:[(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"<\"}),\"groupId\"]}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\">\"})]}),\"org.springframework.boot\",(0,n.jsxs)(a.span,{className:\"token tag\",children:[(0,n.jsxs)(a.span,{className:\"token tag\",children:[(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"</\"}),\"groupId\"]}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\">\"})]}),`\n`]}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[\"  \",(0,n.jsxs)(a.span,{className:\"token tag\",children:[(0,n.jsxs)(a.span,{className:\"token tag\",children:[(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"<\"}),\"artifactId\"]}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\">\"})]}),\"spring-boot-starter-web\",(0,n.jsxs)(a.span,{className:\"token tag\",children:[(0,n.jsxs)(a.span,{className:\"token tag\",children:[(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"</\"}),\"artifactId\"]}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\">\"})]}),`\n`]}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[\"  \",(0,n.jsxs)(a.span,{className:\"token tag\",children:[(0,n.jsxs)(a.span,{className:\"token tag\",children:[(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"<\"}),\"version\"]}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\">\"})]}),\"2.6.7\",(0,n.jsxs)(a.span,{className:\"token tag\",children:[(0,n.jsxs)(a.span,{className:\"token tag\",children:[(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"</\"}),\"version\"]}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\">\"})]}),`\n`]}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[(0,n.jsxs)(a.span,{className:\"token tag\",children:[(0,n.jsxs)(a.span,{className:\"token tag\",children:[(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"</\"}),\"dependency\"]}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\">\"})]}),`\n`]}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[(0,n.jsxs)(a.span,{className:\"token tag\",children:[(0,n.jsxs)(a.span,{className:\"token tag\",children:[(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"<\"}),\"dependency\"]}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\">\"})]}),`\n`]}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[\"  \",(0,n.jsxs)(a.span,{className:\"token tag\",children:[(0,n.jsxs)(a.span,{className:\"token tag\",children:[(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"<\"}),\"groupId\"]}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\">\"})]}),\"org.springframework.boot\",(0,n.jsxs)(a.span,{className:\"token tag\",children:[(0,n.jsxs)(a.span,{className:\"token tag\",children:[(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"</\"}),\"groupId\"]}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\">\"})]}),`\n`]}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[\"  \",(0,n.jsxs)(a.span,{className:\"token tag\",children:[(0,n.jsxs)(a.span,{className:\"token tag\",children:[(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"<\"}),\"artifactId\"]}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\">\"})]}),\"spring-boot-starter-security\",(0,n.jsxs)(a.span,{className:\"token tag\",children:[(0,n.jsxs)(a.span,{className:\"token tag\",children:[(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"</\"}),\"artifactId\"]}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\">\"})]}),`\n`]}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[\"  \",(0,n.jsxs)(a.span,{className:\"token tag\",children:[(0,n.jsxs)(a.span,{className:\"token tag\",children:[(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"<\"}),\"version\"]}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\">\"})]}),\"2.6.7\",(0,n.jsxs)(a.span,{className:\"token tag\",children:[(0,n.jsxs)(a.span,{className:\"token tag\",children:[(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"</\"}),\"version\"]}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\">\"})]}),`\n`]}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[(0,n.jsxs)(a.span,{className:\"token tag\",children:[(0,n.jsxs)(a.span,{className:\"token tag\",children:[(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"</\"}),\"dependency\"]}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\">\"})]}),`\n`]}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[(0,n.jsxs)(a.span,{className:\"token tag\",children:[(0,n.jsxs)(a.span,{className:\"token tag\",children:[(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"<\"}),\"dependency\"]}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\">\"})]}),`\n`]}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[\"  \",(0,n.jsxs)(a.span,{className:\"token tag\",children:[(0,n.jsxs)(a.span,{className:\"token tag\",children:[(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"<\"}),\"groupId\"]}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\">\"})]}),\"org.springframework.boot\",(0,n.jsxs)(a.span,{className:\"token tag\",children:[(0,n.jsxs)(a.span,{className:\"token tag\",children:[(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"</\"}),\"groupId\"]}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\">\"})]}),`\n`]}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[\"  \",(0,n.jsxs)(a.span,{className:\"token tag\",children:[(0,n.jsxs)(a.span,{className:\"token tag\",children:[(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"<\"}),\"artifactId\"]}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\">\"})]}),\"spring-boot-starter-oauth2-resource-server\",(0,n.jsxs)(a.span,{className:\"token tag\",children:[(0,n.jsxs)(a.span,{className:\"token tag\",children:[(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"</\"}),\"artifactId\"]}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\">\"})]}),`\n`]}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[\"  \",(0,n.jsxs)(a.span,{className:\"token tag\",children:[(0,n.jsxs)(a.span,{className:\"token tag\",children:[(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"<\"}),\"version\"]}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\">\"})]}),\"2.6.7\",(0,n.jsxs)(a.span,{className:\"token tag\",children:[(0,n.jsxs)(a.span,{className:\"token tag\",children:[(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"</\"}),\"version\"]}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\">\"})]}),`\n`]}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[(0,n.jsxs)(a.span,{className:\"token tag\",children:[(0,n.jsxs)(a.span,{className:\"token tag\",children:[(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"</\"}),\"dependency\"]}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\">\"})]}),`\n`]})]})}),(0,n.jsxs)(a.h4,{id:\"\\u914D\\u7F6E-2\",children:[(0,n.jsx)(a.a,{href:\"#\\u914D\\u7F6E-2\",\"aria-hidden\":\"true\",tabIndex:\"-1\",children:(0,n.jsx)(a.span,{className:\"icon icon-link\"})}),\"\\u914D\\u7F6E\"]}),(0,n.jsx)(a.p,{children:\"\\u901A\\u8FC7application.yml\\u914D\\u7F6E\\u8D44\\u6E90\\u670D\\u52A1\\u5668\\u670D\\u52A1\\u7AEF\\u53E38070\\uFF0C\\u5E76\\u6307\\u5B9A\\u6388\\u6743\\u670D\\u52A1\\u5668jwk uri\\uFF0C\\u7528\\u4E8E\\u83B7\\u53D6\\u516C\\u94A5\\u4FE1\\u606F\\u9A8C\\u8BC1token\\uFF1A\"}),(0,n.jsx)(a.pre,{className:\"language-yaml\",children:(0,n.jsxs)(a.code,{className:\"code-highlight language-yaml\",children:[(0,n.jsxs)(a.span,{className:\"code-line\",children:[(0,n.jsx)(a.span,{className:\"token atrule key\",children:\"server\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\":\"}),`\n`]}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[\"  \",(0,n.jsx)(a.span,{className:\"token atrule key\",children:\"port\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\":\"}),\" \",(0,n.jsx)(a.span,{className:\"token number\",children:\"8090\"}),`\n`]}),(0,n.jsx)(a.span,{className:\"code-line\",children:`\n`}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[(0,n.jsx)(a.span,{className:\"token atrule key\",children:\"spring\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\":\"}),`\n`]}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[\"  \",(0,n.jsx)(a.span,{className:\"token atrule key\",children:\"security\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\":\"}),`\n`]}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[\"    \",(0,n.jsx)(a.span,{className:\"token atrule key\",children:\"oauth2\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\":\"}),`\n`]}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[\"      \",(0,n.jsx)(a.span,{className:\"token atrule key\",children:\"resourceserver\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\":\"}),`\n`]}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[\"        \",(0,n.jsx)(a.span,{className:\"token atrule key\",children:\"jwt\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\":\"}),`\n`]}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[\"          \",(0,n.jsx)(a.span,{className:\"token atrule key\",children:\"jwk-set-uri\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\":\"}),\" http\",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\":\"}),\"//127.0.0.1\",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\":\"}),`8080/oauth2/jwks\n`]})]})}),(0,n.jsx)(a.p,{children:\"\\u63A5\\u4E0B\\u6765\\u914D\\u7F6ESpring Security\\u914D\\u7F6E\\u7C7B\\uFF0C\\u6307\\u5B9A\\u53D7\\u4FDD\\u62A4\\u7AEF\\u70B9\\u8BBF\\u95EE\\u6743\\u9650\\uFF1A\"}),(0,n.jsx)(a.pre,{className:\"language-java\",children:(0,n.jsxs)(a.code,{className:\"code-highlight language-java\",children:[(0,n.jsxs)(a.span,{className:\"code-line\",children:[(0,n.jsx)(a.span,{className:\"token punctuation annotation\",children:\"@Configuration\"}),`\n`]}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[(0,n.jsx)(a.span,{className:\"token keyword\",children:\"public\"}),\" \",(0,n.jsx)(a.span,{className:\"token keyword\",children:\"class\"}),\" \",(0,n.jsx)(a.span,{className:\"token class-name\",children:\"SecurityConfig\"}),\" \",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,n.jsx)(a.span,{className:\"code-line\",children:`\n`}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[\"    \",(0,n.jsx)(a.span,{className:\"token punctuation annotation\",children:\"@Bean\"}),`\n`]}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[\"    \",(0,n.jsx)(a.span,{className:\"token keyword\",children:\"public\"}),\" \",(0,n.jsx)(a.span,{className:\"token class-name\",children:\"SecurityFilterChain\"}),\" \",(0,n.jsx)(a.span,{className:\"token function\",children:\"defaultSecurityFilter\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(a.span,{className:\"token class-name\",children:\"HttpSecurity\"}),\" http\",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,n.jsx)(a.span,{className:\"token keyword\",children:\"throws\"}),\" \",(0,n.jsx)(a.span,{className:\"token class-name\",children:\"Exception\"}),\" \",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[\"        http\",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(a.span,{className:\"token function\",children:\"requestMatchers\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\")\"}),`\n`]}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[\"                \",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(a.span,{className:\"token function\",children:\"antMatchers\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(a.span,{className:\"token string\",children:'\"/resource/article\"'}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\")\"}),`\n`]}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[\"                \",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(a.span,{className:\"token function\",children:\"and\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\")\"}),`\n`]}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[\"                \",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(a.span,{className:\"token function\",children:\"authorizeHttpRequests\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"(\"}),\"authorize\",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,n.jsx)(a.span,{className:\"token operator\",children:\"->\"}),` authorize\n`]}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[\"                        \",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(a.span,{className:\"token function\",children:\"antMatchers\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(a.span,{className:\"token string\",children:'\"/resource/article\"'}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\")\"}),`\n`]}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[\"                        \",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(a.span,{className:\"token function\",children:\"hasAuthority\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(a.span,{className:\"token string\",children:'\"SCOPE_message.read\"'}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\")\"}),`\n`]}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[\"                        \",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(a.span,{className:\"token function\",children:\"mvcMatchers\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\")\"}),`\n`]}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[\"                \",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\")\"}),`\n`]}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[\"                \",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(a.span,{className:\"token function\",children:\"oauth2ResourceServer\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(a.span,{className:\"token class-name\",children:\"OAuth2ResourceServerConfigurer\"}),(0,n.jsx)(a.span,{className:\"token operator\",children:\"::\"}),(0,n.jsx)(a.span,{className:\"token function\",children:\"jwt\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[\"        \",(0,n.jsx)(a.span,{className:\"token keyword\",children:\"return\"}),\" http\",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(a.span,{className:\"token function\",children:\"build\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[\"    \",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"}\"}),`\n`]}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"}\"}),`\n`]})]})}),(0,n.jsx)(a.p,{children:\"\\u4E0A\\u8FF0\\u914D\\u7F6E\\u7C7B\\u4E2D\\u6307\\u5B9A/resource/article\\u5FC5\\u987B\\u62E5\\u6709message.read\\u6743\\u9650\\u624D\\u80FD\\u8BBF\\u95EE\\uFF0C\\u5E76\\u914D\\u7F6E\\u8D44\\u6E90\\u670D\\u52A1\\u4F7F\\u7528JWT\\u8EAB\\u4EFD\\u9A8C\\u8BC1\\u3002\"}),(0,n.jsx)(\"br\",{}),(0,n.jsx)(a.p,{children:\"\\u4E4B\\u540E\\u6211\\u4EEC\\u5C06\\u521B\\u5EFAController\\u7C7B\\uFF0C\\u4F5C\\u4E3A\\u53D7\\u4FDD\\u62A4\\u7AEF\\u70B9\\uFF1A\"}),(0,n.jsx)(a.pre,{className:\"language-java\",children:(0,n.jsxs)(a.code,{className:\"code-highlight language-java\",children:[(0,n.jsxs)(a.span,{className:\"code-line\",children:[(0,n.jsx)(a.span,{className:\"token punctuation annotation\",children:\"@RestController\"}),`\n`]}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[(0,n.jsx)(a.span,{className:\"token keyword\",children:\"public\"}),\" \",(0,n.jsx)(a.span,{className:\"token keyword\",children:\"class\"}),\" \",(0,n.jsx)(a.span,{className:\"token class-name\",children:\"ArticleRestController\"}),\" \",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,n.jsx)(a.span,{className:\"code-line\",children:`\n`}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[\"    \",(0,n.jsx)(a.span,{className:\"token punctuation annotation\",children:\"@GetMapping\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(a.span,{className:\"token string\",children:'\"/resource/article\"'}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\")\"}),`\n`]}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[\"    \",(0,n.jsx)(a.span,{className:\"token keyword\",children:\"public\"}),\" \",(0,n.jsx)(a.span,{className:\"token class-name\",children:\"List\"}),(0,n.jsxs)(a.span,{className:\"token generics\",children:[(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"<\"}),(0,n.jsx)(a.span,{className:\"token class-name\",children:\"String\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\">\"})]}),\" \",(0,n.jsx)(a.span,{className:\"token function\",children:\"article\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[\"        \",(0,n.jsx)(a.span,{className:\"token keyword\",children:\"return\"}),\" \",(0,n.jsx)(a.span,{className:\"token class-name\",children:\"Arrays\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(a.span,{className:\"token function\",children:\"asList\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(a.span,{className:\"token string\",children:'\"article1\"'}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,n.jsx)(a.span,{className:\"token string\",children:'\"article2\"'}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,n.jsx)(a.span,{className:\"token string\",children:'\"article3\"'}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[\"    \",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"}\"}),`\n`]}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"}\"}),`\n`]})]})}),(0,n.jsxs)(a.h3,{id:\"\\u8BBF\\u95EE\\u8D44\\u6E90\\u5217\\u8868\",children:[(0,n.jsx)(a.a,{href:\"#\\u8BBF\\u95EE\\u8D44\\u6E90\\u5217\\u8868\",\"aria-hidden\":\"true\",tabIndex:\"-1\",children:(0,n.jsx)(a.span,{className:\"icon icon-link\"})}),\"\\u8BBF\\u95EE\\u8D44\\u6E90\\u5217\\u8868\"]}),(0,n.jsxs)(a.p,{children:[\"\\u542F\\u52A8\\u6240\\u6709\\u670D\\u52A1\\u540E\\uFF0C\\u5728\\u6D4F\\u89C8\\u5668\\u4E2D\\u8F93\\u5165 \",(0,n.jsx)(a.a,{href:\"http://127.0.0.1:8070/client/test\",children:\"http://127.0.0.1:8070/client/test\"}),\" \\uFF0C\\u901A\\u8FC7\\u6388\\u6743\\u670D\\u52A1\\u5668\\u8BA4\\u8BC1\\u540E\\uFF0C\\u60A8\\u5C06\\u5728\\u9875\\u9762\\u4E2D\\u770B\\u5230\\u4EE5\\u4E0B\\u8F93\\u51FA\\u4FE1\\u606F\\uFF1A\"]}),(0,n.jsx)(a.pre,{className:\"language-json\",children:(0,n.jsx)(a.code,{className:\"code-highlight language-json\",children:(0,n.jsxs)(a.span,{className:\"code-line\",children:[(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"[\"}),(0,n.jsx)(a.span,{className:\"token string\",children:'\"article1\"'}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\",\"}),(0,n.jsx)(a.span,{className:\"token string\",children:'\"article2\"'}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\",\"}),(0,n.jsx)(a.span,{className:\"token string\",children:'\"article3\"'}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"]\"}),`\n`]})})}),(0,n.jsxs)(a.h3,{id:\"\\u7ED3\\u8BBA\",children:[(0,n.jsx)(a.a,{href:\"#\\u7ED3\\u8BBA\",\"aria-hidden\":\"true\",tabIndex:\"-1\",children:(0,n.jsx)(a.span,{className:\"icon icon-link\"})}),\"\\u7ED3\\u8BBA\"]}),(0,n.jsx)(a.p,{children:\"\\u5728Spring Security\\u76EE\\u524D\\u7248\\u672C\\u4E2D\\u4FDD\\u5BC6\\u5BA2\\u6237\\u7AEF\\u7684 PKCE \\u5DF2\\u7ECF\\u6210\\u4E3A\\u9ED8\\u8BA4\\u884C\\u4E3A\\u3002\\u5728\\u4FDD\\u5BC6\\u5BA2\\u6237\\u7AEF\\u6388\\u6743\\u7801\\u6A21\\u5F0F\\u4E2D\\u540C\\u6837\\u53EF\\u4EE5\\u4F7F\\u7528PKCE\\u3002\"}),(0,n.jsxs)(a.p,{children:[\"\\u4E0E\\u5F80\\u5E38\\u4E00\\u6837\\uFF0C\\u672C\\u6587\\u4E2D\\u4F7F\\u7528\\u7684\\u6E90\\u4EE3\\u7801\\u53EF\",(0,n.jsx)(a.a,{href:\"https://github.com/ReLive27/spring-security-oauth2-sample/tree/main/oauth2-pkce\",children:\"\\u5728 GitHub \\u4E0A\"}),\"\\u83B7\\u5F97\\u3002\"]})]})}}var w=f;return b;})();\n;return Component;","toc":[{"value":"Spring Security OAuth2 带有用于代码交换的证明密钥 (PKCE) 的授权码流","url":"#spring-security-oauth2-带有用于代码交换的证明密钥-pkce-的授权码流","depth":2},{"value":"概述","url":"#概述","depth":3},{"value":"Proof Key for Code Exchange","url":"#proof-key-for-code-exchange","depth":3},{"value":"使用Spring Authorization Server搭建授权服务器","url":"#使用spring-authorization-server搭建授权服务器","depth":3},{"value":"maven","url":"#maven","depth":4},{"value":"配置","url":"#配置","depth":4},{"value":"OAuth2客户端","url":"#oauth2客户端","depth":3},{"value":"maven","url":"#maven","depth":4},{"value":"配置","url":"#配置","depth":4},{"value":"资源服务器","url":"#资源服务器","depth":3},{"value":"maven","url":"#maven","depth":4},{"value":"配置","url":"#配置","depth":4},{"value":"访问资源列表","url":"#访问资源列表","depth":3},{"value":"结论","url":"#结论","depth":3}],"frontMatter":{"readingTime":{"text":"11 min read","minutes":10.265,"time":615900,"words":2053},"slug":"oauth2-pkce","fileName":"oauth2-pkce.mdx","title":"Spring Security OAuth2 带有用于代码交换的证明密钥 (PKCE) 的授权码流","date":"2022-07-17T12:21:50.000Z","tags":["OAuth2","SpringSecurity"],"draft":false,"authors":["default"]}},"authorDetails":[{"readingTime":{"text":"1 min read","minutes":0.18,"time":10800,"words":36},"slug":["default"],"fileName":"default.md","name":"ReLive27","avatar":"../static/images/avatar.png","occupation":"中级软件工程师","date":null}],"prev":{"title":"Spring Security OAuth2客户端凭据授权","date":"2022-07-09T18:22:26.000Z","tags":["SpringSecurity","OAuth2"],"draft":false,"authors":["default"],"slug":"oauth2-client-model"},"next":{"title":"Spring Security OAuth2登录","date":"2022-07-25T20:01:01.000Z","tags":["OAuth2","SpringSecurity"],"draft":false,"authors":["default"],"slug":"oauth2-login"}},"__N_SSG":true}