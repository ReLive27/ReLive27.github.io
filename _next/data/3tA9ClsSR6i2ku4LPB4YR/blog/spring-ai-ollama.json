{"pageProps":{"post":{"mdxSource":"var Component=(()=>{var p=Object.create;var l=Object.defineProperty;var r=Object.getOwnPropertyDescriptor;var d=Object.getOwnPropertyNames;var m=Object.getPrototypeOf,h=Object.prototype.hasOwnProperty;var t=e=>l(e,\"__esModule\",{value:!0});var u=(e,s)=>()=>(s||e((s={exports:{}}).exports,s),s.exports),N=(e,s)=>{t(e);for(var c in s)l(e,c,{get:s[c],enumerable:!0})},k=(e,s,c)=>{if(s&&typeof s==\"object\"||typeof s==\"function\")for(let a of d(s))!h.call(e,a)&&a!==\"default\"&&l(e,a,{get:()=>s[a],enumerable:!(c=r(s,a))||c.enumerable});return e},g=e=>k(t(l(e!=null?p(m(e)):{},\"default\",e&&e.__esModule&&\"default\"in e?{get:()=>e.default,enumerable:!0}:{value:e,enumerable:!0})),e);var o=u((v,i)=>{i.exports=_jsx_runtime});var I={};N(I,{default:()=>y,frontmatter:()=>f});var n=g(o()),f={title:\"Spring AI \\u548C Ollama\",date:new Date(1713727201e3),tags:[\"SpringBoot\",\"AI\"],draft:!1,authors:[\"default\"]};function b(e={}){let{wrapper:s}=e.components||{};return s?(0,n.jsx)(s,Object.assign({},e,{children:(0,n.jsx)(c,{})})):c();function c(){let a=Object.assign({h2:\"h2\",a:\"a\",span:\"span\",p:\"p\",pre:\"pre\",code:\"code\"},e.components);return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)(a.h2,{id:\"\\u6982\\u8FF0\",children:[(0,n.jsx)(a.a,{href:\"#\\u6982\\u8FF0\",\"aria-hidden\":\"true\",tabIndex:\"-1\",children:(0,n.jsx)(a.span,{className:\"icon icon-link\"})}),\"\\u6982\\u8FF0\"]}),(0,n.jsxs)(a.p,{children:[\"Spring AI \\u4E0D\\u4EC5\\u63D0\\u4F9B\\u4E86\\u4E0E OpenAI \\u8FDB\\u884CAPI\\u4EA4\\u4E92\\uFF0C\\u540C\\u6837\\u652F\\u6301\\u4E0E Ollama \\u8FDB\\u884CAPI\\u4EA4\\u4E92\\u3002\",(0,n.jsx)(a.a,{href:\"https://github.com/jmorganca/ollama\",children:\"Ollama\"}),\" \\u662F\\u4E00\\u4E2A\\u53D1\\u5E03\\u5728GitHub\\u4E0A\\u7684\\u9879\\u76EE\\uFF0C\\u4E13\\u4E3A\\u8FD0\\u884C\\u3001\\u521B\\u5EFA\\u548C\\u5206\\u4EAB\\u5927\\u578B\\u8BED\\u8A00\\u6A21\\u578B\\u800C\\u8BBE\\u8BA1\\uFF0C\\u53EF\\u4EE5\\u8F7B\\u677E\\u5730\\u5728\\u672C\\u5730\\u542F\\u52A8\\u548C\\u8FD0\\u884C\\u5927\\u578B\\u8BED\\u8A00\\u6A21\\u578B\\u3002\"]}),(0,n.jsxs)(a.h2,{id:\"docker\\u73AF\\u5883\\u5B89\\u88C5ollama\",children:[(0,n.jsx)(a.a,{href:\"#docker\\u73AF\\u5883\\u5B89\\u88C5ollama\",\"aria-hidden\":\"true\",tabIndex:\"-1\",children:(0,n.jsx)(a.span,{className:\"icon icon-link\"})}),\"Docker\\u73AF\\u5883\\u5B89\\u88C5Ollama\"]}),(0,n.jsx)(a.p,{children:\"1.\\u83B7\\u53D6Docker\\u955C\\u50CF\\u3002\"}),(0,n.jsx)(a.pre,{className:\"language-sh\",children:(0,n.jsx)(a.code,{className:\"code-highlight language-sh\",children:(0,n.jsxs)(a.span,{className:\"code-line\",children:[(0,n.jsx)(a.span,{className:\"token function\",children:\"docker\"}),` pull ollama/ollama\n`]})})}),(0,n.jsx)(a.p,{children:\"2.\\u5728 Docker \\u5BB9\\u5668\\u5185\\u8FD0\\u884C Ollama\\u3002\"}),(0,n.jsx)(a.pre,{className:\"language-sh\",children:(0,n.jsx)(a.code,{className:\"code-highlight language-sh\",children:(0,n.jsxs)(a.span,{className:\"code-line\",children:[(0,n.jsx)(a.span,{className:\"token function\",children:\"docker\"}),\" run \",(0,n.jsx)(a.span,{className:\"token parameter variable\",children:\"-d\"}),\" \",(0,n.jsx)(a.span,{className:\"token parameter variable\",children:\"-v\"}),\" ollama:/root/.ollama \",(0,n.jsx)(a.span,{className:\"token parameter variable\",children:\"-p\"}),\" \",(0,n.jsx)(a.span,{className:\"token number\",children:\"11434\"}),\":11434 \",(0,n.jsx)(a.span,{className:\"token parameter variable\",children:\"--name\"}),` ollama ollama/ollama\n`]})})}),(0,n.jsx)(a.p,{children:\"3.\\u73B0\\u5728\\u60A8\\u53EF\\u4EE5\\u5728\\u5BB9\\u5668\\u5185\\u8FD0\\u884C\\u50CF Llama 2 \\u8FD9\\u6837\\u7684\\u6A21\\u578B\\u3002\"}),(0,n.jsx)(a.pre,{className:\"language-sh\",children:(0,n.jsx)(a.code,{className:\"code-highlight language-sh\",children:(0,n.jsxs)(a.span,{className:\"code-line\",children:[(0,n.jsx)(a.span,{className:\"token function\",children:\"docker\"}),\" \",(0,n.jsx)(a.span,{className:\"token class-name builtin\",children:\"exec\"}),\" \",(0,n.jsx)(a.span,{className:\"token parameter variable\",children:\"-it\"}),` ollama ollama run llama2\n`]})})}),(0,n.jsxs)(a.p,{children:[(0,n.jsx)(a.a,{href:\"https://ollama.ai/library\",children:\"\\u66F4\\u591A\\u6A21\\u578B\\u53EF\\u4EE5\\u5728Ollama \\u5E93\"}),\" \\u4E2D\\u627E\\u5230\\u3002\"]}),(0,n.jsxs)(a.h2,{id:\"\\u521B\\u5EFA-spring-boot-\\u9879\\u76EE\",children:[(0,n.jsx)(a.a,{href:\"#\\u521B\\u5EFA-spring-boot-\\u9879\\u76EE\",\"aria-hidden\":\"true\",tabIndex:\"-1\",children:(0,n.jsx)(a.span,{className:\"icon icon-link\"})}),\"\\u521B\\u5EFA Spring Boot \\u9879\\u76EE\"]}),(0,n.jsx)(a.p,{children:\"\\u9996\\u5148\\u5F15\\u5165\\u76F8\\u5173\\u4F9D\\u8D56\\u3002\"}),(0,n.jsx)(a.pre,{className:\"language-xml\",children:(0,n.jsxs)(a.code,{className:\"code-highlight language-xml\",children:[(0,n.jsxs)(a.span,{className:\"code-line\",children:[(0,n.jsxs)(a.span,{className:\"token tag\",children:[(0,n.jsxs)(a.span,{className:\"token tag\",children:[(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"<\"}),\"dependencies\"]}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\">\"})]}),`\n`]}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[\"    \",(0,n.jsxs)(a.span,{className:\"token tag\",children:[(0,n.jsxs)(a.span,{className:\"token tag\",children:[(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"<\"}),\"dependency\"]}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\">\"})]}),`\n`]}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[\"        \",(0,n.jsxs)(a.span,{className:\"token tag\",children:[(0,n.jsxs)(a.span,{className:\"token tag\",children:[(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"<\"}),\"groupId\"]}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\">\"})]}),\"org.springframework.boot\",(0,n.jsxs)(a.span,{className:\"token tag\",children:[(0,n.jsxs)(a.span,{className:\"token tag\",children:[(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"</\"}),\"groupId\"]}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\">\"})]}),`\n`]}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[\"        \",(0,n.jsxs)(a.span,{className:\"token tag\",children:[(0,n.jsxs)(a.span,{className:\"token tag\",children:[(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"<\"}),\"artifactId\"]}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\">\"})]}),\"spring-boot-starter-web\",(0,n.jsxs)(a.span,{className:\"token tag\",children:[(0,n.jsxs)(a.span,{className:\"token tag\",children:[(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"</\"}),\"artifactId\"]}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\">\"})]}),`\n`]}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[\"        \",(0,n.jsxs)(a.span,{className:\"token tag\",children:[(0,n.jsxs)(a.span,{className:\"token tag\",children:[(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"<\"}),\"version\"]}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\">\"})]}),\"3.2.0\",(0,n.jsxs)(a.span,{className:\"token tag\",children:[(0,n.jsxs)(a.span,{className:\"token tag\",children:[(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"</\"}),\"version\"]}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\">\"})]}),`\n`]}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[\"    \",(0,n.jsxs)(a.span,{className:\"token tag\",children:[(0,n.jsxs)(a.span,{className:\"token tag\",children:[(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"</\"}),\"dependency\"]}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\">\"})]}),`\n`]}),(0,n.jsx)(a.span,{className:\"code-line\",children:`\n`}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[\"    \",(0,n.jsxs)(a.span,{className:\"token tag\",children:[(0,n.jsxs)(a.span,{className:\"token tag\",children:[(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"<\"}),\"dependency\"]}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\">\"})]}),`\n`]}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[\"        \",(0,n.jsxs)(a.span,{className:\"token tag\",children:[(0,n.jsxs)(a.span,{className:\"token tag\",children:[(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"<\"}),\"groupId\"]}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\">\"})]}),\"org.springframework.ai\",(0,n.jsxs)(a.span,{className:\"token tag\",children:[(0,n.jsxs)(a.span,{className:\"token tag\",children:[(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"</\"}),\"groupId\"]}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\">\"})]}),`\n`]}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[\"        \",(0,n.jsxs)(a.span,{className:\"token tag\",children:[(0,n.jsxs)(a.span,{className:\"token tag\",children:[(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"<\"}),\"artifactId\"]}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\">\"})]}),\"spring-ai-ollama\",(0,n.jsxs)(a.span,{className:\"token tag\",children:[(0,n.jsxs)(a.span,{className:\"token tag\",children:[(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"</\"}),\"artifactId\"]}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\">\"})]}),`\n`]}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[\"        \",(0,n.jsxs)(a.span,{className:\"token tag\",children:[(0,n.jsxs)(a.span,{className:\"token tag\",children:[(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"<\"}),\"version\"]}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\">\"})]}),\"0.8.0-SNAPSHOT\",(0,n.jsxs)(a.span,{className:\"token tag\",children:[(0,n.jsxs)(a.span,{className:\"token tag\",children:[(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"</\"}),\"version\"]}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\">\"})]}),`\n`]}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[\"    \",(0,n.jsxs)(a.span,{className:\"token tag\",children:[(0,n.jsxs)(a.span,{className:\"token tag\",children:[(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"</\"}),\"dependency\"]}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\">\"})]}),`\n`]}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[(0,n.jsxs)(a.span,{className:\"token tag\",children:[(0,n.jsxs)(a.span,{className:\"token tag\",children:[(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"</\"}),\"dependencies\"]}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\">\"})]}),`\n`]}),(0,n.jsx)(a.span,{className:\"code-line\",children:`\n`}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[(0,n.jsxs)(a.span,{className:\"token tag\",children:[(0,n.jsxs)(a.span,{className:\"token tag\",children:[(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"<\"}),\"repositories\"]}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\">\"})]}),`\n`]}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[\"    \",(0,n.jsxs)(a.span,{className:\"token tag\",children:[(0,n.jsxs)(a.span,{className:\"token tag\",children:[(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"<\"}),\"repository\"]}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\">\"})]}),`\n`]}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[\"        \",(0,n.jsxs)(a.span,{className:\"token tag\",children:[(0,n.jsxs)(a.span,{className:\"token tag\",children:[(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"<\"}),\"id\"]}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\">\"})]}),\"spring-snapshots\",(0,n.jsxs)(a.span,{className:\"token tag\",children:[(0,n.jsxs)(a.span,{className:\"token tag\",children:[(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"</\"}),\"id\"]}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\">\"})]}),`\n`]}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[\"        \",(0,n.jsxs)(a.span,{className:\"token tag\",children:[(0,n.jsxs)(a.span,{className:\"token tag\",children:[(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"<\"}),\"name\"]}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\">\"})]}),\"Spring Snapshots\",(0,n.jsxs)(a.span,{className:\"token tag\",children:[(0,n.jsxs)(a.span,{className:\"token tag\",children:[(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"</\"}),\"name\"]}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\">\"})]}),`\n`]}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[\"        \",(0,n.jsxs)(a.span,{className:\"token tag\",children:[(0,n.jsxs)(a.span,{className:\"token tag\",children:[(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"<\"}),\"url\"]}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\">\"})]}),\"https://repo.spring.io/snapshot\",(0,n.jsxs)(a.span,{className:\"token tag\",children:[(0,n.jsxs)(a.span,{className:\"token tag\",children:[(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"</\"}),\"url\"]}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\">\"})]}),`\n`]}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[\"        \",(0,n.jsxs)(a.span,{className:\"token tag\",children:[(0,n.jsxs)(a.span,{className:\"token tag\",children:[(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"<\"}),\"releases\"]}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\">\"})]}),`\n`]}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[\"            \",(0,n.jsxs)(a.span,{className:\"token tag\",children:[(0,n.jsxs)(a.span,{className:\"token tag\",children:[(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"<\"}),\"enabled\"]}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\">\"})]}),\"false\",(0,n.jsxs)(a.span,{className:\"token tag\",children:[(0,n.jsxs)(a.span,{className:\"token tag\",children:[(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"</\"}),\"enabled\"]}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\">\"})]}),`\n`]}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[\"        \",(0,n.jsxs)(a.span,{className:\"token tag\",children:[(0,n.jsxs)(a.span,{className:\"token tag\",children:[(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"</\"}),\"releases\"]}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\">\"})]}),`\n`]}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[\"    \",(0,n.jsxs)(a.span,{className:\"token tag\",children:[(0,n.jsxs)(a.span,{className:\"token tag\",children:[(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"</\"}),\"repository\"]}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\">\"})]}),`\n`]}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[(0,n.jsxs)(a.span,{className:\"token tag\",children:[(0,n.jsxs)(a.span,{className:\"token tag\",children:[(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"</\"}),\"repositories\"]}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\">\"})]}),`\n`]}),(0,n.jsx)(a.span,{className:\"code-line\",children:`\n`})]})}),(0,n.jsx)(a.p,{children:\"\\u5728 application.yml \\u4E2D\\u914D\\u7F6E Ollama \\u5730\\u5740\\u548C\\u4F7F\\u7528\\u7684\\u6A21\\u578B\\u3002\"}),(0,n.jsx)(a.pre,{className:\"language-yml\",children:(0,n.jsxs)(a.code,{className:\"code-highlight language-yml\",children:[(0,n.jsxs)(a.span,{className:\"code-line\",children:[(0,n.jsx)(a.span,{className:\"token atrule key\",children:\"spring\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\":\"}),`\n`]}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[\"  \",(0,n.jsx)(a.span,{className:\"token atrule key\",children:\"ai\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\":\"}),`\n`]}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[\"    \",(0,n.jsx)(a.span,{className:\"token atrule key\",children:\"ollama\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\":\"}),`\n`]}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[\"      \",(0,n.jsx)(a.span,{className:\"token atrule key\",children:\"base-url\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\":\"}),\" http\",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\":\"}),\"//localhost\",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\":\"}),(0,n.jsx)(a.span,{className:\"token number\",children:\"11434\"}),`\n`]}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[\"      \",(0,n.jsx)(a.span,{className:\"token atrule key\",children:\"embedding\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\":\"}),`\n`]}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[\"        \",(0,n.jsx)(a.span,{className:\"token atrule key\",children:\"model\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\":\"}),` llama2\n`]})]})}),(0,n.jsxs)(a.p,{children:[\"\\u8FD9\\u91CC\\u6211\\u4EEC\\u586B\\u5199\\u4E00\\u4E2A\\u63D0\\u793A\\u6765\\u6D4B\\u8BD5\\u4E0B\\uFF0C\",(0,n.jsx)(a.code,{children:\"ChatClient\"}),\"\\u5C06\\u8C03\\u7528Ollama\\u7684API\\u63A5\\u53E3\\u3002\"]}),(0,n.jsx)(a.pre,{className:\"language-java\",children:(0,n.jsxs)(a.code,{className:\"code-highlight language-java\",children:[(0,n.jsxs)(a.span,{className:\"code-line\",children:[(0,n.jsx)(a.span,{className:\"token punctuation annotation\",children:\"@GetMapping\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(a.span,{className:\"token string\",children:'\"/top/fiction\"'}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\")\"}),`\n`]}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[(0,n.jsx)(a.span,{className:\"token keyword\",children:\"public\"}),\" \",(0,n.jsx)(a.span,{className:\"token class-name\",children:\"String\"}),\" \",(0,n.jsx)(a.span,{className:\"token function\",children:\"topCodeLanguage\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[\"    \",(0,n.jsx)(a.span,{className:\"token class-name\",children:\"String\"}),\" message \",(0,n.jsx)(a.span,{className:\"token operator\",children:\"=\"}),\" \",(0,n.jsx)(a.span,{className:\"token string\",children:'\"2023\\u6700\\u53D7\\u6B22\\u8FCE\\u5C0F\\u8BF4\\u662F\\u4EC0\\u4E48\"'}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[\"    \",(0,n.jsx)(a.span,{className:\"token keyword\",children:\"return\"}),\" chatClient\",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(a.span,{className:\"token function\",children:\"generate\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"(\"}),\"message\",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"}\"}),`\n`]})]})}),(0,n.jsxs)(a.p,{children:[\"\\u6211\\u4EEC\\u7A0D\\u5FAE\\u5BF9\\u4E0A\\u9762\\u7684\\u63A5\\u53E3\\u505A\\u4E9B\\u66F4\\u6539\\uFF0C\\u6211\\u9996\\u5148\\u5C06\\u4E00\\u4E2A\\u8DEF\\u5F84\\u53D8\\u91CF\\u653E\\u5165\\u8BF7\\u6C42\\uFF0C\\u8FD9\\u6837\\u6211\\u4EEC\\u5C31\\u53EF\\u4EE5\\u5C06\\u5E74\\u4EFD\\u6A21\\u677F\\u5316\\u3002\",(0,n.jsx)(a.code,{children:\"PromptTemplate\"}),\"\\u65E8\\u5728\\u5E2E\\u52A9\\u521B\\u5EFA\\u7ED3\\u6784\\u5316\\u63D0\\u793A\\uFF0C\\u6211\\u4EEC\\u901A\\u8FC7add()\\u65B9\\u6CD5\\u63D2\\u5165\\u52A8\\u6001\\u5185\\u5BB9\\uFF0Crender()\\u4F1A\\u6E32\\u67D3\\u4E3A\\u6700\\u7EC8\\u5B57\\u7B26\\u4E32\\u683C\\u5F0F\\u3002\"]}),(0,n.jsx)(a.pre,{className:\"language-java\",children:(0,n.jsxs)(a.code,{className:\"code-highlight language-java\",children:[(0,n.jsxs)(a.span,{className:\"code-line\",children:[(0,n.jsx)(a.span,{className:\"token punctuation annotation\",children:\"@GetMapping\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(a.span,{className:\"token string\",children:'\"/top/fiction/{year}\"'}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\")\"}),`\n`]}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[(0,n.jsx)(a.span,{className:\"token keyword\",children:\"public\"}),\" \",(0,n.jsx)(a.span,{className:\"token class-name\",children:\"String\"}),\" \",(0,n.jsx)(a.span,{className:\"token function\",children:\"topCodeLanguageByYear\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(a.span,{className:\"token punctuation annotation\",children:\"@PathVariable\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(a.span,{className:\"token string\",children:'\"year\"'}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,n.jsx)(a.span,{className:\"token class-name\",children:\"Integer\"}),\" year\",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[\"    \",(0,n.jsx)(a.span,{className:\"token class-name\",children:\"String\"}),\" message \",(0,n.jsx)(a.span,{className:\"token operator\",children:\"=\"}),\" \",(0,n.jsx)(a.span,{className:\"token string\",children:'\"{year}\\u6700\\u53D7\\u6B22\\u8FCE\\u5C0F\\u8BF4\\u662F\\u4EC0\\u4E48\"'}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[\"    \",(0,n.jsx)(a.span,{className:\"token class-name\",children:\"PromptTemplate\"}),\" promptTemplate \",(0,n.jsx)(a.span,{className:\"token operator\",children:\"=\"}),\" \",(0,n.jsx)(a.span,{className:\"token keyword\",children:\"new\"}),\" \",(0,n.jsx)(a.span,{className:\"token class-name\",children:\"PromptTemplate\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"(\"}),\"message\",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[\"    promptTemplate\",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(a.span,{className:\"token function\",children:\"add\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(a.span,{className:\"token string\",children:'\"year\"'}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\",\"}),\" year\",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[\"    \",(0,n.jsx)(a.span,{className:\"token keyword\",children:\"return\"}),\" chatClient\",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(a.span,{className:\"token function\",children:\"generate\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"(\"}),\"promptTemplate\",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(a.span,{className:\"token function\",children:\"render\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"}\"}),`\n`]})]})}),(0,n.jsxs)(a.h2,{id:\"\\u7ED3\\u8BBA\",children:[(0,n.jsx)(a.a,{href:\"#\\u7ED3\\u8BBA\",\"aria-hidden\":\"true\",tabIndex:\"-1\",children:(0,n.jsx)(a.span,{className:\"icon icon-link\"})}),\"\\u7ED3\\u8BBA\"]}),(0,n.jsxs)(a.p,{children:[\"\\u6211\\u4EEC\\u5DF2\\u7ECF\\u5B8C\\u6210\\u4E86Spring AI \\u4E0EOllama\\u7684\\u57FA\\u672C\\u793A\\u4F8B\\uFF0C\\u4E0E\\u5F80\\u5E38\\u4E00\\u6837\\uFF0C\\u672C\\u6587\\u4E2D\\u4F7F\\u7528\\u7684\\u6E90\\u4EE3\\u7801\\u53EF \",(0,n.jsx)(a.a,{href:\"https://github.com/ReLive27/spring-boot-sample/tree/main/spring-ai\",children:\"\\u5728 GitHub \\u4E0A\"}),\" \\u83B7\\u5F97\\u3002\"]})]})}}var y=b;return I;})();\n;return Component;","toc":[{"value":"概述","url":"#概述","depth":2},{"value":"Docker环境安装Ollama","url":"#docker环境安装ollama","depth":2},{"value":"创建 Spring Boot 项目","url":"#创建-spring-boot-项目","depth":2},{"value":"结论","url":"#结论","depth":2}],"frontMatter":{"readingTime":{"text":"3 min read","minutes":2.11,"time":126600,"words":422},"slug":"spring-ai-ollama","fileName":"spring-ai-ollama.mdx","title":"Spring AI 和 Ollama","date":"2024-04-21T19:20:01.000Z","tags":["SpringBoot","AI"],"draft":false,"authors":["default"]}},"authorDetails":[{"readingTime":{"text":"1 min read","minutes":0.18,"time":10800,"words":36},"slug":["default"],"fileName":"default.md","name":"ReLive27","avatar":"../static/images/avatar.png","occupation":"中级软件工程师","date":null}],"prev":{"title":"使用 Vue.js 构建 OAuth2 授权同意页面","date":"2024-01-19T15:14:29.000Z","tags":["SpringSecurity","OAuth2"],"draft":false,"authors":["default"],"slug":"oauth2-custom-consent-page-with-vue"},"next":null},"__N_SSG":true}