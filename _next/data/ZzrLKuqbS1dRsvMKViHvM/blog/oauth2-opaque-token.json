{"pageProps":{"post":{"mdxSource":"var Component=(()=>{var r=Object.create;var t=Object.defineProperty;var p=Object.getOwnPropertyDescriptor;var d=Object.getOwnPropertyNames;var u=Object.getPrototypeOf,h=Object.prototype.hasOwnProperty;var l=e=>t(e,\"__esModule\",{value:!0});var m=(e,s)=>()=>(s||e((s={exports:{}}).exports,s),s.exports),N=(e,s)=>{l(e);for(var c in s)t(e,c,{get:s[c],enumerable:!0})},k=(e,s,c)=>{if(s&&typeof s==\"object\"||typeof s==\"function\")for(let a of d(s))!h.call(e,a)&&a!==\"default\"&&t(e,a,{get:()=>s[a],enumerable:!(c=p(s,a))||c.enumerable});return e},g=e=>k(l(t(e!=null?r(u(e)):{},\"default\",e&&e.__esModule&&\"default\"in e?{get:()=>e.default,enumerable:!0}:{value:e,enumerable:!0})),e);var o=m((I,i)=>{i.exports=_jsx_runtime});var v={};N(v,{default:()=>b,frontmatter:()=>f});var n=g(o()),f={title:\"Spring Security OAuth2 Opaque \\u4EE4\\u724C\\u7684\\u7B80\\u5355\\u4F7F\\u7528\\u6307\\u5357\",date:new Date(1668347401e3),tags:[\"SpringSecurity\",\"OAuth2\"],draft:!1,authors:[\"default\"]};function y(e={}){let{wrapper:s}=e.components||{};return s?(0,n.jsx)(s,Object.assign({},e,{children:(0,n.jsx)(c,{})})):c();function c(){let a=Object.assign({h2:\"h2\",a:\"a\",span:\"span\",h3:\"h3\",p:\"p\",h4:\"h4\",pre:\"pre\",code:\"code\",ul:\"ul\",li:\"li\",strong:\"strong\"},e.components);return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)(a.h2,{id:\"spring-security-oauth2-opaque-\\u4EE4\\u724C\\u7684\\u7B80\\u5355\\u4F7F\\u7528\\u6307\\u5357\",children:[(0,n.jsx)(a.a,{href:\"#spring-security-oauth2-opaque-\\u4EE4\\u724C\\u7684\\u7B80\\u5355\\u4F7F\\u7528\\u6307\\u5357\",\"aria-hidden\":\"true\",tabIndex:\"-1\",children:(0,n.jsx)(a.span,{className:\"icon icon-link\"})}),\"Spring Security OAuth2 Opaque \\u4EE4\\u724C\\u7684\\u7B80\\u5355\\u4F7F\\u7528\\u6307\\u5357\"]}),(0,n.jsxs)(a.h3,{id:\"\\u6982\\u8FF0\",children:[(0,n.jsx)(a.a,{href:\"#\\u6982\\u8FF0\",\"aria-hidden\":\"true\",tabIndex:\"-1\",children:(0,n.jsx)(a.span,{className:\"icon icon-link\"})}),\"\\u6982\\u8FF0\"]}),(0,n.jsx)(a.p,{children:\"JWT \\u662F\\u4E00\\u79CD\\u4EE5\\u5E7F\\u6CDB\\u63A5\\u53D7\\u7684 JSON \\u683C\\u5F0F\\u5B89\\u5168\\u4F20\\u8F93\\u654F\\u611F\\u4FE1\\u606F\\u7684\\u65B9\\u6CD5\\u3002\\u5305\\u542B\\u7684\\u4FE1\\u606F\\u53EF\\u80FD\\u662F\\u5173\\u4E8E\\u7528\\u6237\\u7684\\uFF0C\\u4E5F\\u53EF\\u80FD\\u662F\\u5173\\u4E8E\\u4EE4\\u724C\\u672C\\u8EAB\\u7684\\uFF0C\\u4F8B\\u5982\\u5B83\\u7684\\u5230\\u671F\\u65F6\\u95F4\\u548C\\u53D1\\u884C\\u8005\\u3002 \\u4F46\\u662F\\u5C06\\u4EE4\\u724C\\u4FE1\\u606F\\u6253\\u5305\\u653E\\u5165\\u4EE4\\u724C\\u672C\\u8EAB\\u4E5F\\u6709\\u5176\\u4E0D\\u8DB3\\u4E4B\\u5904\\u3002\\u4E3A\\u4E86\\u5305\\u542B\\u6240\\u6709\\u5FC5\\u8981\\u7684\\u58F0\\u660E\\u4EE5\\u53CA\\u4FDD\\u62A4\\u8FD9\\u4E9B\\u58F0\\u660E\\u6240\\u9700\\u7684\\u7B7E\\u540D\\u7ED3\\u6784\\uFF0C\\u4EE4\\u724C\\u5C3A\\u5BF8\\u4F1A\\u53D8\\u5F97\\u975E\\u5E38\\u5927\\u3002\\u800C\\u4E14\\uFF0C \\u5982\\u679C\\u53D7\\u4FDD\\u62A4\\u8D44\\u6E90\\u5B8C\\u5168\\u4F9D\\u8D56\\u4EE4\\u724C\\u672C\\u8EAB\\u6240\\u5305\\u542B\\u7684\\u4FE1\\u606F\\uFF0C\\u5219\\u4E00\\u65E6\\u5C06\\u6709\\u6548\\u7684\\u4EE4\\u724C\\u751F\\u6210\\u5E76\\u53D1\\u5E03\\uFF0C\\u60F3\\u8981\\u64A4\\u56DE\\u4F1A\\u975E\\u5E38\\u56F0\\u96BE\\u3002\"}),(0,n.jsx)(a.p,{children:\"OAuth2 \\u4EE4\\u724C\\u5185\\u7701\\u534F\\u8BAE\\u5B9A\\u4E49\\u4E86\\u4E00\\u79CD\\u673A\\u5236\\uFF0C\\u8BA9\\u53D7\\u4FDD\\u62A4\\u8D44\\u6E90\\u80FD\\u591F\\u4E3B\\u52A8\\u5411\\u6388\\u6743\\u670D\\u52A1\\u5668\\u67E5\\u8BE2\\u4EE4\\u724C\\u72B6\\u6001\\u3002\\u672C\\u6587\\u6211\\u4EEC\\u4E0D\\u5728\\u4F7F\\u7528JWT\\u7ED3\\u6784\\u5316\\u4EE4\\u724C\\uFF0C\\u800C\\u662F\\u4F7F\\u7528\\u4E0D\\u900F\\u660E\\u4EE4\\u724C\\u505A\\u4E3A\\u8BBF\\u95EE\\u4EE4\\u724C\\u3002 \\u987E\\u540D\\u601D\\u4E49\\uFF0C\\u4E0D\\u900F\\u660E\\u4EE4\\u724C\\u5C31\\u5176\\u643A\\u5E26\\u7684\\u4FE1\\u606F\\u800C\\u8A00\\u662F\\u4E0D\\u900F\\u660E\\u7684\\u3002\\u4EE4\\u724C\\u53EA\\u662F\\u4E00\\u4E2A\\u6807\\u8BC6\\u7B26\\uFF0C\\u6307\\u5411\\u5B58\\u50A8\\u5728\\u6388\\u6743\\u670D\\u52A1\\u5668\\u4E0A\\u7684\\u4FE1\\u606F\\uFF1B\\u5B83\\u901A\\u8FC7\\u6388\\u6743\\u670D\\u52A1\\u5668\\u7684\\u5185\\u7701\\u5F97\\u5230\\u9A8C\\u8BC1\\u3002\"}),(0,n.jsxs)(a.h3,{id:\"\\u6388\\u6743\\u670D\\u52A1\\u5668\",children:[(0,n.jsx)(a.a,{href:\"#\\u6388\\u6743\\u670D\\u52A1\\u5668\",\"aria-hidden\":\"true\",tabIndex:\"-1\",children:(0,n.jsx)(a.span,{className:\"icon icon-link\"})}),\"\\u6388\\u6743\\u670D\\u52A1\\u5668\"]}),(0,n.jsxs)(a.p,{children:[\"\\u672C\\u8282\\u4E2D\\uFF0C\\u6211\\u4EEC\\u5C06\\u5B66\\u4E60\\u4F7F\\u7528\",(0,n.jsx)(a.a,{href:\"https://spring.io/projects/spring-authorization-server\",children:\"Spring Authorization Server\"}),\"\\u8BBE\\u7F6E OAuth 2.0 \\u6388\\u6743 \\u670D\\u52A1\\u5668\\uFF0C\\u5E76\\u4E14\\u6211\\u4EEC\\u5C06\\u4F7F\\u7528\\u4E0D\\u900F\\u660E\\u4EE4\\u724C\\uFF0C\\u548C\\u4EE5\\u5F80\\u6587\\u7AE0\\u4E2D\\u6388\\u6743\\u670D\\u52A1\\u5668\\u751F\\u6210JWT\\u4EE4\\u724C\\u914D\\u7F6E\\u76F8\\u6BD4\\uFF0C\\u914D\\u7F6E\\u8FC7\\u7A0B\\u4E2D\\u4EC5\\u6709\\u5FAE\\u5C0F\\u7684\\u53D8\\u52A8\\u3002\"]}),(0,n.jsxs)(a.h4,{id:\"maven\\u4F9D\\u8D56\",children:[(0,n.jsx)(a.a,{href:\"#maven\\u4F9D\\u8D56\",\"aria-hidden\":\"true\",tabIndex:\"-1\",children:(0,n.jsx)(a.span,{className:\"icon icon-link\"})}),\"Maven\\u4F9D\\u8D56\"]}),(0,n.jsx)(a.pre,{className:\"language-xml\",children:(0,n.jsxs)(a.code,{className:\"code-highlight language-xml\",children:[(0,n.jsxs)(a.span,{className:\"code-line\",children:[(0,n.jsxs)(a.span,{className:\"token tag\",children:[(0,n.jsxs)(a.span,{className:\"token tag\",children:[(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"<\"}),\"dependency\"]}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\">\"})]}),`\n`]}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[\"    \",(0,n.jsxs)(a.span,{className:\"token tag\",children:[(0,n.jsxs)(a.span,{className:\"token tag\",children:[(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"<\"}),\"groupId\"]}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\">\"})]}),\"org.springframework.boot\",(0,n.jsxs)(a.span,{className:\"token tag\",children:[(0,n.jsxs)(a.span,{className:\"token tag\",children:[(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"</\"}),\"groupId\"]}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\">\"})]}),`\n`]}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[\"    \",(0,n.jsxs)(a.span,{className:\"token tag\",children:[(0,n.jsxs)(a.span,{className:\"token tag\",children:[(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"<\"}),\"artifactId\"]}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\">\"})]}),\"spring-boot-starter-security\",(0,n.jsxs)(a.span,{className:\"token tag\",children:[(0,n.jsxs)(a.span,{className:\"token tag\",children:[(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"</\"}),\"artifactId\"]}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\">\"})]}),`\n`]}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[\"    \",(0,n.jsxs)(a.span,{className:\"token tag\",children:[(0,n.jsxs)(a.span,{className:\"token tag\",children:[(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"<\"}),\"version\"]}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\">\"})]}),\"2.6.7\",(0,n.jsxs)(a.span,{className:\"token tag\",children:[(0,n.jsxs)(a.span,{className:\"token tag\",children:[(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"</\"}),\"version\"]}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\">\"})]}),`\n`]}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[(0,n.jsxs)(a.span,{className:\"token tag\",children:[(0,n.jsxs)(a.span,{className:\"token tag\",children:[(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"</\"}),\"dependency\"]}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\">\"})]}),`\n`]}),(0,n.jsx)(a.span,{className:\"code-line\",children:`\n`}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[(0,n.jsxs)(a.span,{className:\"token tag\",children:[(0,n.jsxs)(a.span,{className:\"token tag\",children:[(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"<\"}),\"dependency\"]}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\">\"})]}),`\n`]}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[\"    \",(0,n.jsxs)(a.span,{className:\"token tag\",children:[(0,n.jsxs)(a.span,{className:\"token tag\",children:[(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"<\"}),\"groupId\"]}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\">\"})]}),\"org.springframework.security\",(0,n.jsxs)(a.span,{className:\"token tag\",children:[(0,n.jsxs)(a.span,{className:\"token tag\",children:[(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"</\"}),\"groupId\"]}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\">\"})]}),`\n`]}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[\"    \",(0,n.jsxs)(a.span,{className:\"token tag\",children:[(0,n.jsxs)(a.span,{className:\"token tag\",children:[(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"<\"}),\"artifactId\"]}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\">\"})]}),\"spring-security-oauth2-authorization-server\",(0,n.jsxs)(a.span,{className:\"token tag\",children:[(0,n.jsxs)(a.span,{className:\"token tag\",children:[(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"</\"}),\"artifactId\"]}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\">\"})]}),`\n`]}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[\"    \",(0,n.jsxs)(a.span,{className:\"token tag\",children:[(0,n.jsxs)(a.span,{className:\"token tag\",children:[(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"<\"}),\"version\"]}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\">\"})]}),\"0.3.1\",(0,n.jsxs)(a.span,{className:\"token tag\",children:[(0,n.jsxs)(a.span,{className:\"token tag\",children:[(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"</\"}),\"version\"]}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\">\"})]}),`\n`]}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[(0,n.jsxs)(a.span,{className:\"token tag\",children:[(0,n.jsxs)(a.span,{className:\"token tag\",children:[(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"</\"}),\"dependency\"]}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\">\"})]}),`\n`]}),(0,n.jsx)(a.span,{className:\"code-line\",children:`\n`}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[(0,n.jsxs)(a.span,{className:\"token tag\",children:[(0,n.jsxs)(a.span,{className:\"token tag\",children:[(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"<\"}),\"dependency\"]}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\">\"})]}),`\n`]}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[\"    \",(0,n.jsxs)(a.span,{className:\"token tag\",children:[(0,n.jsxs)(a.span,{className:\"token tag\",children:[(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"<\"}),\"groupId\"]}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\">\"})]}),\"org.springframework.boot\",(0,n.jsxs)(a.span,{className:\"token tag\",children:[(0,n.jsxs)(a.span,{className:\"token tag\",children:[(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"</\"}),\"groupId\"]}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\">\"})]}),`\n`]}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[\"    \",(0,n.jsxs)(a.span,{className:\"token tag\",children:[(0,n.jsxs)(a.span,{className:\"token tag\",children:[(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"<\"}),\"artifactId\"]}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\">\"})]}),\"spring-boot-starter-web\",(0,n.jsxs)(a.span,{className:\"token tag\",children:[(0,n.jsxs)(a.span,{className:\"token tag\",children:[(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"</\"}),\"artifactId\"]}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\">\"})]}),`\n`]}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[\"    \",(0,n.jsxs)(a.span,{className:\"token tag\",children:[(0,n.jsxs)(a.span,{className:\"token tag\",children:[(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"<\"}),\"version\"]}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\">\"})]}),\"2.6.7\",(0,n.jsxs)(a.span,{className:\"token tag\",children:[(0,n.jsxs)(a.span,{className:\"token tag\",children:[(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"</\"}),\"version\"]}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\">\"})]}),`\n`]}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[(0,n.jsxs)(a.span,{className:\"token tag\",children:[(0,n.jsxs)(a.span,{className:\"token tag\",children:[(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"</\"}),\"dependency\"]}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\">\"})]}),`\n`]})]})}),(0,n.jsxs)(a.h4,{id:\"\\u914D\\u7F6E\",children:[(0,n.jsx)(a.a,{href:\"#\\u914D\\u7F6E\",\"aria-hidden\":\"true\",tabIndex:\"-1\",children:(0,n.jsx)(a.span,{className:\"icon icon-link\"})}),\"\\u914D\\u7F6E\"]}),(0,n.jsxs)(a.p,{children:[\"\\u9996\\u5148\\u6211\\u4EEC\\u521B\\u5EFA\",(0,n.jsx)(a.code,{children:\"AuthorizationServerConfig\"}),\"\\u914D\\u7F6E\\u7C7B\\u4E3A\\u6388\\u6743\\u670D\\u52A1\\u5668\\u6CE8\\u518C\\u4E00\\u4E2A\\u5BA2\\u6237\\u7AEF\\uFF0C\\u6211\\u4EEC\\u5C06\\u4F7F\\u7528\",(0,n.jsx)(a.code,{children:\"RegisteredClient\"}),\"\\u5B9A\\u4E49\\u5BA2\\u6237\\u7AEF\\u4FE1\\u606F\\uFF0C\\u7531\",(0,n.jsx)(a.code,{children:\"RegisteredClientRepository\"}),\"\\u5B58\\u50A8\",(0,n.jsx)(a.code,{children:\"RegisteredClient\"}),\"\\u3002\"]}),(0,n.jsx)(a.pre,{className:\"language-java\",children:(0,n.jsxs)(a.code,{className:\"language-java code-highlight\",children:[(0,n.jsxs)(a.span,{className:\"code-line\",children:[\"    \",(0,n.jsx)(a.span,{className:\"token punctuation annotation\",children:\"@Bean\"}),`\n`]}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[\"    \",(0,n.jsx)(a.span,{className:\"token keyword\",children:\"public\"}),\" \",(0,n.jsx)(a.span,{className:\"token class-name\",children:\"RegisteredClientRepository\"}),\" \",(0,n.jsx)(a.span,{className:\"token function\",children:\"registeredClientRepository\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[\"        \",(0,n.jsx)(a.span,{className:\"token class-name\",children:\"RegisteredClient\"}),\" registeredClient \",(0,n.jsx)(a.span,{className:\"token operator\",children:\"=\"}),\" \",(0,n.jsx)(a.span,{className:\"token class-name\",children:\"RegisteredClient\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(a.span,{className:\"token function\",children:\"withId\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(a.span,{className:\"token constant\",children:\"UUID\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(a.span,{className:\"token function\",children:\"randomUUID\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(a.span,{className:\"token function\",children:\"toString\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\")\"}),`\n`]}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[\"                \",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(a.span,{className:\"token function\",children:\"clientId\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(a.span,{className:\"token string\",children:'\"relive-client\"'}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\")\"}),`\n`]}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[\"                \",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(a.span,{className:\"token function\",children:\"clientSecret\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(a.span,{className:\"token string\",children:'\"{noop}relive-client\"'}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\")\"}),`\n`]}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[\"                \",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(a.span,{className:\"token function\",children:\"clientAuthenticationMethods\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"(\"}),\"s \",(0,n.jsx)(a.span,{className:\"token operator\",children:\"->\"}),\" \",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[\"                    s\",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(a.span,{className:\"token function\",children:\"add\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(a.span,{className:\"token class-name\",children:\"ClientAuthenticationMethod\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(a.span,{className:\"token constant\",children:\"CLIENT_SECRET_POST\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[\"                    s\",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(a.span,{className:\"token function\",children:\"add\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(a.span,{className:\"token class-name\",children:\"ClientAuthenticationMethod\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(a.span,{className:\"token constant\",children:\"CLIENT_SECRET_BASIC\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[\"                \",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"}\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\")\"}),`\n`]}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[\"                \",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(a.span,{className:\"token function\",children:\"authorizationGrantType\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(a.span,{className:\"token class-name\",children:\"AuthorizationGrantType\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(a.span,{className:\"token constant\",children:\"AUTHORIZATION_CODE\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\")\"}),`\n`]}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[\"                \",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(a.span,{className:\"token function\",children:\"authorizationGrantType\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(a.span,{className:\"token class-name\",children:\"AuthorizationGrantType\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(a.span,{className:\"token constant\",children:\"REFRESH_TOKEN\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\")\"}),`\n`]}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[\"                \",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(a.span,{className:\"token function\",children:\"redirectUri\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(a.span,{className:\"token string\",children:'\"http://127.0.0.1:8070/login/oauth2/code/messaging-client-authorization-code\"'}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\")\"}),`\n`]}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[\"                \",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(a.span,{className:\"token function\",children:\"scope\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(a.span,{className:\"token string\",children:'\"message.read\"'}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\")\"}),`\n`]}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[\"                \",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(a.span,{className:\"token function\",children:\"clientSettings\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(a.span,{className:\"token class-name\",children:\"ClientSettings\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(a.span,{className:\"token function\",children:\"builder\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\")\"}),`\n`]}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[\"                        \",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(a.span,{className:\"token function\",children:\"requireAuthorizationConsent\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(a.span,{className:\"token boolean\",children:\"true\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\")\"}),`\n`]}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[\"                        \",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(a.span,{className:\"token function\",children:\"requireProofKey\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(a.span,{className:\"token boolean\",children:\"false\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\")\"}),`\n`]}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[\"                        \",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(a.span,{className:\"token function\",children:\"build\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\")\"}),`\n`]}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[\"                \",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(a.span,{className:\"token function\",children:\"tokenSettings\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(a.span,{className:\"token class-name\",children:\"TokenSettings\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(a.span,{className:\"token function\",children:\"builder\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\")\"}),`\n`]}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[\"                        \",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(a.span,{className:\"token function\",children:\"accessTokenFormat\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(a.span,{className:\"token class-name\",children:\"OAuth2TokenFormat\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(a.span,{className:\"token constant\",children:\"REFERENCE\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\")\"}),`\n`]}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[\"                        \",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(a.span,{className:\"token function\",children:\"accessTokenTimeToLive\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(a.span,{className:\"token class-name\",children:\"Duration\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(a.span,{className:\"token function\",children:\"ofSeconds\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(a.span,{className:\"token number\",children:\"30\"}),\" \",(0,n.jsx)(a.span,{className:\"token operator\",children:\"*\"}),\" \",(0,n.jsx)(a.span,{className:\"token number\",children:\"60\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\")\"}),`\n`]}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[\"                        \",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(a.span,{className:\"token function\",children:\"refreshTokenTimeToLive\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(a.span,{className:\"token class-name\",children:\"Duration\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(a.span,{className:\"token function\",children:\"ofSeconds\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(a.span,{className:\"token number\",children:\"60\"}),\" \",(0,n.jsx)(a.span,{className:\"token operator\",children:\"*\"}),\" \",(0,n.jsx)(a.span,{className:\"token number\",children:\"60\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\")\"}),`\n`]}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[\"                        \",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(a.span,{className:\"token function\",children:\"reuseRefreshTokens\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(a.span,{className:\"token boolean\",children:\"false\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\")\"}),`\n`]}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[\"                        \",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(a.span,{className:\"token function\",children:\"build\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\")\"}),`\n`]}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[\"                \",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(a.span,{className:\"token function\",children:\"build\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,n.jsx)(a.span,{className:\"code-line\",children:`\n`}),(0,n.jsx)(a.span,{className:\"code-line\",children:`\n`}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[\"        \",(0,n.jsx)(a.span,{className:\"token keyword\",children:\"return\"}),\" \",(0,n.jsx)(a.span,{className:\"token keyword\",children:\"new\"}),\" \",(0,n.jsx)(a.span,{className:\"token class-name\",children:\"InMemoryRegisteredClientRepository\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"(\"}),\"registeredClient\",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[\"    \",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"}\"}),`\n`]})]})}),(0,n.jsxs)(a.p,{children:[\"\\u4E0A\\u8FF0\\u7531\",(0,n.jsx)(a.code,{children:\"RegisteredClient\"}),\"\\u5B9A\\u4E49\\u7684OAuth2 \\u5BA2\\u6237\\u7AEF\\u53C2\\u6570\\u4FE1\\u606F\\u8BF4\\u660E\\u5982\\u4E0B\\uFF1A\"]}),(0,n.jsxs)(a.ul,{children:[(0,n.jsxs)(a.li,{children:[(0,n.jsx)(a.strong,{children:\"id\"}),\": \\u552F\\u4E00\\u6807\\u8BC6\"]}),(0,n.jsxs)(a.li,{children:[(0,n.jsx)(a.strong,{children:\"clientId\"}),\": \\u5BA2\\u6237\\u7AEF\\u6807\\u8BC6\\u7B26\"]}),(0,n.jsxs)(a.li,{children:[(0,n.jsx)(a.strong,{children:\"clientSecret\"}),\": \\u5BA2\\u6237\\u7AEF\\u79D8\\u5BC6\"]}),(0,n.jsxs)(a.li,{children:[(0,n.jsx)(a.strong,{children:\"clientAuthenticationMethods\"}),\": \\u5BA2\\u6237\\u7AEF\\u53EF\\u80FD\\u4F7F\\u7528\\u7684\\u8EAB\\u4EFD\\u9A8C\\u8BC1\\u65B9\\u6CD5\\u3002\\u652F\\u6301\\u7684\\u503C\\u4E3A\",(0,n.jsx)(a.code,{children:\"client_secret_basic\"}),\"\\u3001\",(0,n.jsx)(a.code,{children:\"client_secret_post\"}),\"\\u3001\",(0,n.jsx)(a.code,{children:\"private_key_jwt\"}),\"\\u3001\",(0,n.jsx)(a.code,{children:\"client_secret_jwt\"}),\"\\u548C\",(0,n.jsx)(a.code,{children:\"none\"})]}),(0,n.jsxs)(a.li,{children:[(0,n.jsx)(a.strong,{children:\"authorizationGrantTypes\"}),\": \\u5BA2\\u6237\\u7AEF\\u53EF\\u4EE5\\u4F7F\\u7528\\u7684\\u6388\\u6743\\u7C7B\\u578B\\u3002\\u652F\\u6301\\u7684\\u503C\\u4E3A\",(0,n.jsx)(a.code,{children:\"authorization_code\"}),\"\\u3001\",(0,n.jsx)(a.code,{children:\"implicit\"}),\"\\u3001\",(0,n.jsx)(a.code,{children:\"password\"}),\"\\u3001\",(0,n.jsx)(a.code,{children:\"client_credentials\"}),\"\\u3001\",(0,n.jsx)(a.code,{children:\"refresh_token\"}),\"\\u548C\",(0,n.jsx)(a.code,{children:\"urn:ietf:params:oauth:grant-type:jwt-bearer\"})]}),(0,n.jsxs)(a.li,{children:[(0,n.jsx)(a.strong,{children:\"redirectUris\"}),\": \\u5BA2\\u6237\\u7AEF\\u5DF2\\u6CE8\\u518C\\u91CD\\u5B9A\\u5411 URI\"]}),(0,n.jsxs)(a.li,{children:[(0,n.jsx)(a.strong,{children:\"scopes\"}),\": \\u5141\\u8BB8\\u5BA2\\u6237\\u7AEF\\u8BF7\\u6C42\\u7684\\u8303\\u56F4\"]}),(0,n.jsxs)(a.li,{children:[(0,n.jsx)(a.strong,{children:\"clientSettings\"}),\": \\u5BA2\\u6237\\u7AEF\\u7684\\u81EA\\u5B9A\\u4E49\\u8BBE\\u7F6E\",(0,n.jsxs)(a.ul,{children:[(0,n.jsxs)(a.li,{children:[(0,n.jsx)(a.strong,{children:\"requireAuthorizationConsent\"}),\": \\u662F\\u5426\\u9700\\u8981\\u6388\\u6743\\u7EDF\\u540C\\u610F\"]}),(0,n.jsxs)(a.li,{children:[(0,n.jsx)(a.strong,{children:\"requireProofKey\"}),\": \\u5F53\\u53C2\\u6570\\u4E3Atrue\\u65F6\\uFF0C\\u8BE5\\u5BA2\\u6237\\u7AEF\\u4EC5\\u652F\\u6301PCKE\"]})]})]}),(0,n.jsxs)(a.li,{children:[(0,n.jsx)(a.strong,{children:\"tokenSettings\"}),\": OAuth2 \\u4EE4\\u724C\\u7684\\u81EA\\u5B9A\\u4E49\\u8BBE\\u7F6E\",(0,n.jsxs)(a.ul,{children:[(0,n.jsxs)(a.li,{children:[(0,n.jsx)(a.strong,{children:\"accessTokenFormat\"}),\": \\u8BBF\\u95EE\\u4EE4\\u724C\\u683C\\u5F0F\\uFF0C\\u652F\\u6301OAuth2TokenFormat.SELF_CONTAINED\\uFF08\\u81EA\\u5305\\u542B\\u7684\\u4EE4\\u724C\\u4F7F\\u7528\\u53D7\\u4FDD\\u62A4\\u7684\\u3001\\u6709\\u65F6\\u95F4\\u9650\\u5236\\u7684\\u6570\\u636E\\u7ED3\\u6784\\uFF0C\\u4F8B\\u5982JWT\\uFF09\\uFF1BOAuth2TokenFormat.REFERENCE\\uFF08\\u4E0D\\u900F\\u660E\\u4EE4\\u724C\\uFF09\"]}),(0,n.jsxs)(a.li,{children:[(0,n.jsx)(a.strong,{children:\"accessTokenTimeToLive\"}),\": access_token\\u6709\\u6548\\u671F\"]}),(0,n.jsxs)(a.li,{children:[(0,n.jsx)(a.strong,{children:\"refreshTokenTimeToLive\"}),\": refresh_token\\u6709\\u6548\\u671F\"]}),(0,n.jsxs)(a.li,{children:[(0,n.jsx)(a.strong,{children:\"reuseRefreshTokens\"}),\": \\u662F\\u5426\\u91CD\\u7528\\u5237\\u65B0\\u4EE4\\u724C\\u3002\\u5F53\\u53C2\\u6570\\u4E3Atrue\\u65F6\\uFF0C\\u5237\\u65B0\\u4EE4\\u724C\\u540E\\u4E0D\\u4F1A\\u91CD\\u65B0\\u751F\\u6210\\u65B0\\u7684refreshToken\"]})]})]})]}),(0,n.jsx)(a.p,{children:\"ProviderSettings\\u5305\\u542BOAuth2\\u6388\\u6743\\u670D\\u52A1\\u5668\\u7684\\u914D\\u7F6E\\u8BBE\\u7F6E\\u3002\\u5B83\\u6307\\u5B9A\\u4E86\\u534F\\u8BAE\\u7AEF\\u70B9\\u7684URI\\u4EE5\\u53CA\\u53D1\\u884C\\u4EBA\\u6807\\u8BC6\\u3002\\u6211\\u4EEC\\u5C06\\u6307\\u5B9A\\u53D1\\u884C\\u4EBA\\u6807\\u8BC6\\uFF0C\\u534F\\u8BAE\\u7AEF\\u70B9\\u5EF6\\u7528\\u9ED8\\u8BA4\\u914D\\u7F6E\\u3002\"}),(0,n.jsx)(a.pre,{className:\"language-java\",children:(0,n.jsxs)(a.code,{className:\"language-java code-highlight\",children:[(0,n.jsxs)(a.span,{className:\"code-line\",children:[\"    \",(0,n.jsx)(a.span,{className:\"token punctuation annotation\",children:\"@Bean\"}),`\n`]}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[\"    \",(0,n.jsx)(a.span,{className:\"token keyword\",children:\"public\"}),\" \",(0,n.jsx)(a.span,{className:\"token class-name\",children:\"ProviderSettings\"}),\" \",(0,n.jsx)(a.span,{className:\"token function\",children:\"providerSettings\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[\"        \",(0,n.jsx)(a.span,{className:\"token keyword\",children:\"return\"}),\" \",(0,n.jsx)(a.span,{className:\"token class-name\",children:\"ProviderSettings\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(a.span,{className:\"token function\",children:\"builder\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\")\"}),`\n`]}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[\"                \",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(a.span,{className:\"token function\",children:\"issuer\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(a.span,{className:\"token string\",children:'\"http://127.0.0.1:8080\"'}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\")\"}),`\n`]}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[\"                \",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(a.span,{className:\"token function\",children:\"build\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[\"    \",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"}\"}),`\n`]})]})}),(0,n.jsx)(a.p,{children:\"OAuth2AuthorizationServerConfiguration.applyDefaultSecurity(HttpSecurity)\\u662F\\u4E00\\u79CD\\u65B9\\u4FBF\\uFF08static\\uFF09\\u5B9E\\u7528\\u5DE5\\u5177\\u65B9\\u6CD5\\uFF0C\\u5C06\\u9ED8\\u8BA4\\u7684OAuth2\\u5B89\\u5168\\u914D\\u7F6E\\u5E94\\u7528\\u4E8EHttpSecurity\\uFF0C \\u5B83\\u8FD8\\u63D0\\u4F9B\\u5B8C\\u5168\\u81EA\\u5B9A\\u4E49OAuth2\\u6388\\u6743\\u670D\\u52A1\\u5668\\u5B89\\u5168\\u914D\\u7F6E\\u7684\\u80FD\\u529B\\uFF0C\\u4E0D\\u8FC7\\u5728\\u672C\\u6587\\u4E2D\\u9ED8\\u8BA4\\u914D\\u7F6E\\u5DF2\\u7ECF\\u8DB3\\u591F\\u4F7F\\u7528\\u4E86\\u3002\"}),(0,n.jsx)(a.pre,{className:\"language-java\",children:(0,n.jsxs)(a.code,{className:\"language-java code-highlight\",children:[(0,n.jsxs)(a.span,{className:\"code-line\",children:[\"    \",(0,n.jsx)(a.span,{className:\"token punctuation annotation\",children:\"@Bean\"}),`\n`]}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[\"    \",(0,n.jsx)(a.span,{className:\"token punctuation annotation\",children:\"@Order\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(a.span,{className:\"token class-name\",children:\"Ordered\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(a.span,{className:\"token constant\",children:\"HIGHEST_PRECEDENCE\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\")\"}),`\n`]}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[\"    \",(0,n.jsx)(a.span,{className:\"token keyword\",children:\"public\"}),\" \",(0,n.jsx)(a.span,{className:\"token class-name\",children:\"SecurityFilterChain\"}),\" \",(0,n.jsx)(a.span,{className:\"token function\",children:\"authorizationServerSecurityFilterChain\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(a.span,{className:\"token class-name\",children:\"HttpSecurity\"}),\" http\",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,n.jsx)(a.span,{className:\"token keyword\",children:\"throws\"}),\" \",(0,n.jsx)(a.span,{className:\"token class-name\",children:\"Exception\"}),\" \",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[\"        \",(0,n.jsx)(a.span,{className:\"token class-name\",children:\"OAuth2AuthorizationServerConfiguration\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(a.span,{className:\"token function\",children:\"applyDefaultSecurity\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"(\"}),\"http\",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[\"        \",(0,n.jsx)(a.span,{className:\"token keyword\",children:\"return\"}),\" http\",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(a.span,{className:\"token function\",children:\"exceptionHandling\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"(\"}),\"exceptions \",(0,n.jsx)(a.span,{className:\"token operator\",children:\"->\"}),\" exceptions\",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\".\"}),`\n`]}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[\"                \",(0,n.jsx)(a.span,{className:\"token function\",children:\"authenticationEntryPoint\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(a.span,{className:\"token keyword\",children:\"new\"}),\" \",(0,n.jsx)(a.span,{className:\"token class-name\",children:\"LoginUrlAuthenticationEntryPoint\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(a.span,{className:\"token string\",children:'\"/login\"'}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(a.span,{className:\"token function\",children:\"build\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[\"    \",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"}\"}),`\n`]})]})}),(0,n.jsx)(a.p,{children:\"\\u6700\\u540E\\u6211\\u4EEC\\u5C06\\u5B9A\\u4E49Spring Security\\u5B89\\u5168\\u914D\\u7F6E\\u7C7B\\uFF0C\\u5B8C\\u5584\\u8BA4\\u8BC1\\u529F\\u80FD\\u4EE5\\u4FDD\\u62A4\\u6211\\u4EEC\\u7684\\u670D\\u52A1\\u3002\"}),(0,n.jsx)(a.pre,{className:\"language-java\",children:(0,n.jsxs)(a.code,{className:\"language-java code-highlight\",children:[(0,n.jsxs)(a.span,{className:\"code-line\",children:[\"    \",(0,n.jsx)(a.span,{className:\"token punctuation annotation\",children:\"@Bean\"}),`\n`]}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[\"    \",(0,n.jsx)(a.span,{className:\"token class-name\",children:\"SecurityFilterChain\"}),\" \",(0,n.jsx)(a.span,{className:\"token function\",children:\"defaultSecurityFilterChain\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(a.span,{className:\"token class-name\",children:\"HttpSecurity\"}),\" http\",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,n.jsx)(a.span,{className:\"token keyword\",children:\"throws\"}),\" \",(0,n.jsx)(a.span,{className:\"token class-name\",children:\"Exception\"}),\" \",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,n.jsx)(a.span,{className:\"code-line\",children:`        http\n`}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[\"                \",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(a.span,{className:\"token function\",children:\"authorizeRequests\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"(\"}),\"authorizeRequests \",(0,n.jsx)(a.span,{className:\"token operator\",children:\"->\"}),`\n`]}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[\"                        authorizeRequests\",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(a.span,{className:\"token function\",children:\"anyRequest\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(a.span,{className:\"token function\",children:\"authenticated\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\")\"}),`\n`]}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[\"                \",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\")\"}),`\n`]}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[\"                \",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(a.span,{className:\"token function\",children:\"formLogin\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(a.span,{className:\"token function\",children:\"withDefaults\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[\"        \",(0,n.jsx)(a.span,{className:\"token keyword\",children:\"return\"}),\" http\",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(a.span,{className:\"token function\",children:\"build\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[\"    \",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"}\"}),`\n`]}),(0,n.jsx)(a.span,{className:\"code-line\",children:`\n`}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[\"    \",(0,n.jsx)(a.span,{className:\"token punctuation annotation\",children:\"@Bean\"}),`\n`]}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[\"    \",(0,n.jsx)(a.span,{className:\"token class-name\",children:\"UserDetailsService\"}),\" \",(0,n.jsx)(a.span,{className:\"token function\",children:\"users\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[\"        \",(0,n.jsx)(a.span,{className:\"token class-name\",children:\"UserDetails\"}),\" user \",(0,n.jsx)(a.span,{className:\"token operator\",children:\"=\"}),\" \",(0,n.jsx)(a.span,{className:\"token class-name\",children:\"User\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(a.span,{className:\"token function\",children:\"withDefaultPasswordEncoder\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\")\"}),`\n`]}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[\"                \",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(a.span,{className:\"token function\",children:\"username\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(a.span,{className:\"token string\",children:'\"admin\"'}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\")\"}),`\n`]}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[\"                \",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(a.span,{className:\"token function\",children:\"password\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(a.span,{className:\"token string\",children:'\"password\"'}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\")\"}),`\n`]}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[\"                \",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(a.span,{className:\"token function\",children:\"roles\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(a.span,{className:\"token string\",children:'\"ADMIN\"'}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\")\"}),`\n`]}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[\"                \",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(a.span,{className:\"token function\",children:\"build\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[\"        \",(0,n.jsx)(a.span,{className:\"token keyword\",children:\"return\"}),\" \",(0,n.jsx)(a.span,{className:\"token keyword\",children:\"new\"}),\" \",(0,n.jsx)(a.span,{className:\"token class-name\",children:\"InMemoryUserDetailsManager\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"(\"}),\"user\",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[\"    \",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"}\"}),`\n`]}),(0,n.jsx)(a.span,{className:\"code-line\",children:`\n`}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[\"    \",(0,n.jsx)(a.span,{className:\"token punctuation annotation\",children:\"@Bean\"}),`\n`]}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[\"    \",(0,n.jsx)(a.span,{className:\"token class-name\",children:\"PasswordEncoder\"}),\" \",(0,n.jsx)(a.span,{className:\"token function\",children:\"passwordEncoder\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[\"        \",(0,n.jsx)(a.span,{className:\"token keyword\",children:\"return\"}),\" \",(0,n.jsx)(a.span,{className:\"token class-name\",children:\"PasswordEncoderFactories\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(a.span,{className:\"token function\",children:\"createDelegatingPasswordEncoder\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[\"    \",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"}\"}),`\n`]}),(0,n.jsx)(a.span,{className:\"code-line\",children:`\n`})]})}),(0,n.jsxs)(a.h3,{id:\"\\u8D44\\u6E90\\u670D\\u52A1\\u5668\",children:[(0,n.jsx)(a.a,{href:\"#\\u8D44\\u6E90\\u670D\\u52A1\\u5668\",\"aria-hidden\":\"true\",tabIndex:\"-1\",children:(0,n.jsx)(a.span,{className:\"icon icon-link\"})}),\"\\u8D44\\u6E90\\u670D\\u52A1\\u5668\"]}),(0,n.jsx)(a.p,{children:\"\\u5728\\u672C\\u8282\\u4E2D\\uFF0C\\u6211\\u4EEC\\u5C06\\u5B66\\u4E60\\u5982\\u4F55\\u4F7F\\u7528 Spring Security 5 \\u8BBE\\u7F6E OAuth 2.0 \\u8D44\\u6E90\\u670D\\u52A1\\u5668\\u3002\"}),(0,n.jsxs)(a.h4,{id:\"maven\\u4F9D\\u8D56-1\",children:[(0,n.jsx)(a.a,{href:\"#maven\\u4F9D\\u8D56-1\",\"aria-hidden\":\"true\",tabIndex:\"-1\",children:(0,n.jsx)(a.span,{className:\"icon icon-link\"})}),\"Maven\\u4F9D\\u8D56\"]}),(0,n.jsx)(a.pre,{className:\"language-xml\",children:(0,n.jsxs)(a.code,{className:\"code-highlight language-xml\",children:[(0,n.jsxs)(a.span,{className:\"code-line\",children:[\"        \",(0,n.jsxs)(a.span,{className:\"token tag\",children:[(0,n.jsxs)(a.span,{className:\"token tag\",children:[(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"<\"}),\"dependency\"]}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\">\"})]}),`\n`]}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[\"            \",(0,n.jsxs)(a.span,{className:\"token tag\",children:[(0,n.jsxs)(a.span,{className:\"token tag\",children:[(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"<\"}),\"groupId\"]}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\">\"})]}),\"org.springframework.boot\",(0,n.jsxs)(a.span,{className:\"token tag\",children:[(0,n.jsxs)(a.span,{className:\"token tag\",children:[(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"</\"}),\"groupId\"]}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\">\"})]}),`\n`]}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[\"            \",(0,n.jsxs)(a.span,{className:\"token tag\",children:[(0,n.jsxs)(a.span,{className:\"token tag\",children:[(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"<\"}),\"artifactId\"]}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\">\"})]}),\"spring-boot-starter-web\",(0,n.jsxs)(a.span,{className:\"token tag\",children:[(0,n.jsxs)(a.span,{className:\"token tag\",children:[(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"</\"}),\"artifactId\"]}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\">\"})]}),`\n`]}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[\"            \",(0,n.jsxs)(a.span,{className:\"token tag\",children:[(0,n.jsxs)(a.span,{className:\"token tag\",children:[(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"<\"}),\"version\"]}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\">\"})]}),\"2.6.7\",(0,n.jsxs)(a.span,{className:\"token tag\",children:[(0,n.jsxs)(a.span,{className:\"token tag\",children:[(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"</\"}),\"version\"]}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\">\"})]}),`\n`]}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[\"        \",(0,n.jsxs)(a.span,{className:\"token tag\",children:[(0,n.jsxs)(a.span,{className:\"token tag\",children:[(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"</\"}),\"dependency\"]}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\">\"})]}),`\n`]}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[\"        \",(0,n.jsxs)(a.span,{className:\"token tag\",children:[(0,n.jsxs)(a.span,{className:\"token tag\",children:[(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"<\"}),\"dependency\"]}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\">\"})]}),`\n`]}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[\"            \",(0,n.jsxs)(a.span,{className:\"token tag\",children:[(0,n.jsxs)(a.span,{className:\"token tag\",children:[(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"<\"}),\"groupId\"]}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\">\"})]}),\"org.springframework.boot\",(0,n.jsxs)(a.span,{className:\"token tag\",children:[(0,n.jsxs)(a.span,{className:\"token tag\",children:[(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"</\"}),\"groupId\"]}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\">\"})]}),`\n`]}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[\"            \",(0,n.jsxs)(a.span,{className:\"token tag\",children:[(0,n.jsxs)(a.span,{className:\"token tag\",children:[(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"<\"}),\"artifactId\"]}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\">\"})]}),\"spring-boot-starter-security\",(0,n.jsxs)(a.span,{className:\"token tag\",children:[(0,n.jsxs)(a.span,{className:\"token tag\",children:[(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"</\"}),\"artifactId\"]}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\">\"})]}),`\n`]}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[\"            \",(0,n.jsxs)(a.span,{className:\"token tag\",children:[(0,n.jsxs)(a.span,{className:\"token tag\",children:[(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"<\"}),\"version\"]}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\">\"})]}),\"2.6.7\",(0,n.jsxs)(a.span,{className:\"token tag\",children:[(0,n.jsxs)(a.span,{className:\"token tag\",children:[(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"</\"}),\"version\"]}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\">\"})]}),`\n`]}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[\"        \",(0,n.jsxs)(a.span,{className:\"token tag\",children:[(0,n.jsxs)(a.span,{className:\"token tag\",children:[(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"</\"}),\"dependency\"]}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\">\"})]}),`\n`]}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[\"        \",(0,n.jsxs)(a.span,{className:\"token tag\",children:[(0,n.jsxs)(a.span,{className:\"token tag\",children:[(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"<\"}),\"dependency\"]}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\">\"})]}),`\n`]}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[\"            \",(0,n.jsxs)(a.span,{className:\"token tag\",children:[(0,n.jsxs)(a.span,{className:\"token tag\",children:[(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"<\"}),\"groupId\"]}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\">\"})]}),\"org.springframework.boot\",(0,n.jsxs)(a.span,{className:\"token tag\",children:[(0,n.jsxs)(a.span,{className:\"token tag\",children:[(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"</\"}),\"groupId\"]}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\">\"})]}),`\n`]}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[\"            \",(0,n.jsxs)(a.span,{className:\"token tag\",children:[(0,n.jsxs)(a.span,{className:\"token tag\",children:[(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"<\"}),\"artifactId\"]}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\">\"})]}),\"spring-boot-starter-oauth2-resource-server\",(0,n.jsxs)(a.span,{className:\"token tag\",children:[(0,n.jsxs)(a.span,{className:\"token tag\",children:[(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"</\"}),\"artifactId\"]}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\">\"})]}),`\n`]}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[\"            \",(0,n.jsxs)(a.span,{className:\"token tag\",children:[(0,n.jsxs)(a.span,{className:\"token tag\",children:[(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"<\"}),\"version\"]}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\">\"})]}),\"2.6.7\",(0,n.jsxs)(a.span,{className:\"token tag\",children:[(0,n.jsxs)(a.span,{className:\"token tag\",children:[(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"</\"}),\"version\"]}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\">\"})]}),`\n`]}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[\"        \",(0,n.jsxs)(a.span,{className:\"token tag\",children:[(0,n.jsxs)(a.span,{className:\"token tag\",children:[(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"</\"}),\"dependency\"]}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\">\"})]}),`\n`]}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[\"        \",(0,n.jsxs)(a.span,{className:\"token tag\",children:[(0,n.jsxs)(a.span,{className:\"token tag\",children:[(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"<\"}),\"dependency\"]}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\">\"})]}),`\n`]}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[\"            \",(0,n.jsxs)(a.span,{className:\"token tag\",children:[(0,n.jsxs)(a.span,{className:\"token tag\",children:[(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"<\"}),\"groupId\"]}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\">\"})]}),\"com.nimbusds\",(0,n.jsxs)(a.span,{className:\"token tag\",children:[(0,n.jsxs)(a.span,{className:\"token tag\",children:[(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"</\"}),\"groupId\"]}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\">\"})]}),`\n`]}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[\"            \",(0,n.jsxs)(a.span,{className:\"token tag\",children:[(0,n.jsxs)(a.span,{className:\"token tag\",children:[(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"<\"}),\"artifactId\"]}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\">\"})]}),\"oauth2-oidc-sdk\",(0,n.jsxs)(a.span,{className:\"token tag\",children:[(0,n.jsxs)(a.span,{className:\"token tag\",children:[(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"</\"}),\"artifactId\"]}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\">\"})]}),`\n`]}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[\"            \",(0,n.jsxs)(a.span,{className:\"token tag\",children:[(0,n.jsxs)(a.span,{className:\"token tag\",children:[(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"<\"}),\"version\"]}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\">\"})]}),\"9.43.1\",(0,n.jsxs)(a.span,{className:\"token tag\",children:[(0,n.jsxs)(a.span,{className:\"token tag\",children:[(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"</\"}),\"version\"]}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\">\"})]}),`\n`]}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[\"            \",(0,n.jsxs)(a.span,{className:\"token tag\",children:[(0,n.jsxs)(a.span,{className:\"token tag\",children:[(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"<\"}),\"scope\"]}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\">\"})]}),\"runtime\",(0,n.jsxs)(a.span,{className:\"token tag\",children:[(0,n.jsxs)(a.span,{className:\"token tag\",children:[(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"</\"}),\"scope\"]}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\">\"})]}),`\n`]}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[\"        \",(0,n.jsxs)(a.span,{className:\"token tag\",children:[(0,n.jsxs)(a.span,{className:\"token tag\",children:[(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"</\"}),\"dependency\"]}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\">\"})]}),`\n`]})]})}),(0,n.jsxs)(a.h4,{id:\"\\u914D\\u7F6E-1\",children:[(0,n.jsx)(a.a,{href:\"#\\u914D\\u7F6E-1\",\"aria-hidden\":\"true\",tabIndex:\"-1\",children:(0,n.jsx)(a.span,{className:\"icon icon-link\"})}),\"\\u914D\\u7F6E\"]}),(0,n.jsx)(a.p,{children:\"\\u5728\\u8FD9\\u91CC\\u7684application.yml\\u4E2D\\uFF0C\\u6211\\u4EEC\\u9700\\u8981\\u6DFB\\u52A0\\u4E00\\u4E2A\\u4E0E\\u6211\\u4EEC\\u7684\\u6388\\u6743\\u670D\\u52A1\\u5668\\u7684\\u5185\\u7701\\u7AEF\\u70B9\\u76F8\\u5BF9\\u5E94\\u7684\\u5185\\u7701 uri \\u3002\\u8FD9\\u662F\\u9A8C\\u8BC1\\u4E0D\\u900F\\u660E\\u4EE4\\u724C\\u7684\\u65B9\\u5F0F\\uFF1A\"}),(0,n.jsx)(a.pre,{className:\"language-yaml\",children:(0,n.jsxs)(a.code,{className:\"code-highlight language-yaml\",children:[(0,n.jsxs)(a.span,{className:\"code-line\",children:[(0,n.jsx)(a.span,{className:\"token atrule key\",children:\"spring\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\":\"}),`\n`]}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[\"  \",(0,n.jsx)(a.span,{className:\"token atrule key\",children:\"security\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\":\"}),`\n`]}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[\"    \",(0,n.jsx)(a.span,{className:\"token atrule key\",children:\"oauth2\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\":\"}),`\n`]}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[\"      \",(0,n.jsx)(a.span,{className:\"token atrule key\",children:\"resourceserver\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\":\"}),`\n`]}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[\"        \",(0,n.jsx)(a.span,{className:\"token atrule key\",children:\"opaquetoken\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\":\"}),`\n`]}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[\"          \",(0,n.jsx)(a.span,{className:\"token atrule key\",children:\"client-id\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\":\"}),\" relive\",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"-\"}),`client\n`]}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[\"          \",(0,n.jsx)(a.span,{className:\"token atrule key\",children:\"client-secret\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\":\"}),\" relive\",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"-\"}),`client\n`]}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[\"          \",(0,n.jsx)(a.span,{className:\"token atrule key\",children:\"introspection-uri\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\":\"}),\" http\",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\":\"}),\"//127.0.0.1\",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\":\"}),`8080/oauth2/introspect\n`]}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[(0,n.jsx)(a.span,{className:\"token atrule key\",children:\"server\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\":\"}),`\n`]}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[\"  \",(0,n.jsx)(a.span,{className:\"token atrule key\",children:\"port\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\":\"}),\" \",(0,n.jsx)(a.span,{className:\"token number\",children:\"8090\"}),`\n`]}),(0,n.jsx)(a.span,{className:\"code-line\",children:`\n`})]})}),(0,n.jsx)(a.p,{children:\"\\u5728\\u5B9E\\u9645\\u4E2D\\uFF0C\\u6388\\u6743\\u670D\\u52A1\\u5668\\u53EF\\u80FD\\u7531\\u5176\\u4ED6\\u516C\\u53F8\\u63D0\\u4F9B\\uFF0C\\u9ED8\\u8BA4\\u7684\\u8FDE\\u63A5\\u548C\\u8BFB\\u53D6\\u8D85\\u65F6\\u53EF\\u80FD\\u592A\\u77ED\\uFF0C\\u6211\\u4EEC\\u5C06\\u8C03\\u6574\\u8D44\\u6E90\\u670D\\u52A1\\u5668\\u8FDE\\u63A5\\u5230\\u6388\\u6743\\u670D\\u52A1\\u5668\\u7684\\u8D85\\u65F6\\u65F6\\u95F4\\u3002\"}),(0,n.jsx)(a.pre,{className:\"language-java\",children:(0,n.jsxs)(a.code,{className:\"language-java code-highlight\",children:[(0,n.jsxs)(a.span,{className:\"code-line\",children:[\"    \",(0,n.jsx)(a.span,{className:\"token punctuation annotation\",children:\"@Bean\"}),`\n`]}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[\"    \",(0,n.jsx)(a.span,{className:\"token keyword\",children:\"public\"}),\" \",(0,n.jsx)(a.span,{className:\"token class-name\",children:\"OpaqueTokenIntrospector\"}),\" \",(0,n.jsx)(a.span,{className:\"token function\",children:\"introspector\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(a.span,{className:\"token class-name\",children:\"RestTemplateBuilder\"}),\" builder\",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,n.jsx)(a.span,{className:\"token class-name\",children:\"OAuth2ResourceServerProperties\"}),\" properties\",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[\"        \",(0,n.jsx)(a.span,{className:\"token class-name\",children:\"RestOperations\"}),\" rest \",(0,n.jsx)(a.span,{className:\"token operator\",children:\"=\"}),` builder\n`]}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[\"                \",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(a.span,{className:\"token function\",children:\"basicAuthentication\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"(\"}),\"properties\",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(a.span,{className:\"token function\",children:\"getOpaquetoken\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(a.span,{className:\"token function\",children:\"getClientId\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\",\"}),\" properties\",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(a.span,{className:\"token function\",children:\"getOpaquetoken\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(a.span,{className:\"token function\",children:\"getClientSecret\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\")\"}),`\n`]}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[\"                \",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(a.span,{className:\"token function\",children:\"setConnectTimeout\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(a.span,{className:\"token class-name\",children:\"Duration\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(a.span,{className:\"token function\",children:\"ofSeconds\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(a.span,{className:\"token number\",children:\"60\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\")\"}),`\n`]}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[\"                \",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(a.span,{className:\"token function\",children:\"setReadTimeout\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(a.span,{className:\"token class-name\",children:\"Duration\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(a.span,{className:\"token function\",children:\"ofSeconds\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(a.span,{className:\"token number\",children:\"60\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\")\"}),`\n`]}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[\"                \",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(a.span,{className:\"token function\",children:\"build\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,n.jsx)(a.span,{className:\"code-line\",children:`\n`}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[\"        \",(0,n.jsx)(a.span,{className:\"token keyword\",children:\"return\"}),\" \",(0,n.jsx)(a.span,{className:\"token keyword\",children:\"new\"}),\" \",(0,n.jsx)(a.span,{className:\"token class-name\",children:\"NimbusOpaqueTokenIntrospector\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"(\"}),\"properties\",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(a.span,{className:\"token function\",children:\"getOpaquetoken\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(a.span,{className:\"token function\",children:\"getIntrospectionUri\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\",\"}),\" rest\",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[\"    \",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"}\"}),`\n`]})]})}),(0,n.jsxs)(a.p,{children:[\"\\u63A5\\u4E0B\\u6765\\u6211\\u4EEC\\u5C06\\u5B9A\\u4E49\\u53D7\\u4FDD\\u62A4\\u7AEF\\u70B9/resource/article\\u8BBF\\u95EE\\u6743\\u9650\\u4E3Amessage.read\\uFF0C\\u8BBF\\u95EE\\u6743\\u9650\\u4E0E\\u6211\\u4EEC\\u6388\\u6743\\u670D\\u52A1\\u5668\\u4E3AOAuth2\\u5BA2\\u6237\\u7AEF\\u914D\\u7F6E\\u7684\",(0,n.jsx)(a.code,{children:\"scope\"}),\"\\u4E00\\u81F4\\uFF0C\\u7531\\u6B64\\u5728OAuth2\\u5BA2\\u6237\\u7AEF\\u7533\\u8BF7\\u4EE4\\u724C\\u540E\\u624D\\u80FD \\u8BBF\\u95EE\\u6B64\\u7AEF\\u70B9\\u3002\"]}),(0,n.jsx)(a.pre,{className:\"language-java\",children:(0,n.jsxs)(a.code,{className:\"language-java code-highlight\",children:[(0,n.jsxs)(a.span,{className:\"code-line\",children:[\"    \",(0,n.jsx)(a.span,{className:\"token punctuation annotation\",children:\"@Bean\"}),`\n`]}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[\"    \",(0,n.jsx)(a.span,{className:\"token keyword\",children:\"public\"}),\" \",(0,n.jsx)(a.span,{className:\"token class-name\",children:\"SecurityFilterChain\"}),\" \",(0,n.jsx)(a.span,{className:\"token function\",children:\"filterChain\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(a.span,{className:\"token class-name\",children:\"HttpSecurity\"}),\" http\",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,n.jsx)(a.span,{className:\"token keyword\",children:\"throws\"}),\" \",(0,n.jsx)(a.span,{className:\"token class-name\",children:\"Exception\"}),\" \",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,n.jsx)(a.span,{className:\"code-line\",children:`        http\n`}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[\"                \",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(a.span,{className:\"token function\",children:\"authorizeHttpRequests\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"(\"}),\"authorizeRequests \",(0,n.jsx)(a.span,{className:\"token operator\",children:\"->\"}),` authorizeRequests\n`]}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[\"                        \",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(a.span,{className:\"token function\",children:\"mvcMatchers\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(a.span,{className:\"token string\",children:'\"/resource/article\"'}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(a.span,{className:\"token function\",children:\"hasAuthority\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(a.span,{className:\"token string\",children:'\"SCOPE_message.read\"'}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\")\"}),`\n`]}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[\"                        \",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(a.span,{className:\"token function\",children:\"anyRequest\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(a.span,{className:\"token function\",children:\"authenticated\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\")\"}),`\n`]}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[\"                \",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\")\"}),`\n`]}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[\"                \",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(a.span,{className:\"token function\",children:\"oauth2ResourceServer\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(a.span,{className:\"token class-name\",children:\"OAuth2ResourceServerConfigurer\"}),(0,n.jsx)(a.span,{className:\"token operator\",children:\"::\"}),(0,n.jsx)(a.span,{className:\"token function\",children:\"opaqueToken\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[\"        \",(0,n.jsx)(a.span,{className:\"token keyword\",children:\"return\"}),\" http\",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(a.span,{className:\"token function\",children:\"build\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[\"    \",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"}\"}),`\n`]}),(0,n.jsx)(a.span,{className:\"code-line\",children:`\n`})]})}),(0,n.jsx)(a.p,{children:\"\\u6700\\u540E\\u6211\\u4EEC\\u5EFA\\u7ACB\\u4E00\\u4E2A REST \\u63A7\\u5236\\u5668\\uFF0C\\u6D4B\\u8BD5\\u4E2D\\u8FD9\\u5C06\\u7531OAuth2\\u5BA2\\u6237\\u7AEF\\u901A\\u8FC7HTTP\\u8BF7\\u6C42\\u8BBF\\u95EE\\u3002\"}),(0,n.jsx)(a.pre,{className:\"language-java\",children:(0,n.jsxs)(a.code,{className:\"language-java code-highlight\",children:[(0,n.jsxs)(a.span,{className:\"code-line\",children:[(0,n.jsx)(a.span,{className:\"token punctuation annotation\",children:\"@RestController\"}),`\n`]}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[(0,n.jsx)(a.span,{className:\"token keyword\",children:\"public\"}),\" \",(0,n.jsx)(a.span,{className:\"token keyword\",children:\"class\"}),\" \",(0,n.jsx)(a.span,{className:\"token class-name\",children:\"ArticleController\"}),\" \",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,n.jsx)(a.span,{className:\"code-line\",children:`\n`}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[\"    \",(0,n.jsx)(a.span,{className:\"token punctuation annotation\",children:\"@GetMapping\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(a.span,{className:\"token string\",children:'\"/resource/article\"'}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\")\"}),`\n`]}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[\"    \",(0,n.jsx)(a.span,{className:\"token keyword\",children:\"public\"}),\" \",(0,n.jsx)(a.span,{className:\"token class-name\",children:\"Map\"}),(0,n.jsxs)(a.span,{className:\"token generics\",children:[(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"<\"}),(0,n.jsx)(a.span,{className:\"token class-name\",children:\"String\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,n.jsx)(a.span,{className:\"token class-name\",children:\"Object\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\">\"})]}),\" \",(0,n.jsx)(a.span,{className:\"token function\",children:\"foo\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(a.span,{className:\"token punctuation annotation\",children:\"@AuthenticationPrincipal\"}),\" \",(0,n.jsx)(a.span,{className:\"token class-name\",children:\"OAuth2AuthenticatedPrincipal\"}),\" principal\",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[\"        \",(0,n.jsx)(a.span,{className:\"token class-name\",children:\"Map\"}),(0,n.jsxs)(a.span,{className:\"token generics\",children:[(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"<\"}),(0,n.jsx)(a.span,{className:\"token class-name\",children:\"String\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,n.jsx)(a.span,{className:\"token class-name\",children:\"Object\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\">\"})]}),\" result \",(0,n.jsx)(a.span,{className:\"token operator\",children:\"=\"}),\" \",(0,n.jsx)(a.span,{className:\"token keyword\",children:\"new\"}),\" \",(0,n.jsx)(a.span,{className:\"token class-name\",children:\"HashMap\"}),(0,n.jsxs)(a.span,{className:\"token generics\",children:[(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"<\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\">\"})]}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[\"        result\",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(a.span,{className:\"token function\",children:\"put\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(a.span,{className:\"token string\",children:'\"sub\"'}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\",\"}),\" principal\",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(a.span,{className:\"token function\",children:\"getAttribute\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(a.span,{className:\"token string\",children:'\"sub\"'}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[\"        result\",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(a.span,{className:\"token function\",children:\"put\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(a.span,{className:\"token string\",children:'\"articles\"'}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,n.jsx)(a.span,{className:\"token class-name\",children:\"Arrays\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(a.span,{className:\"token function\",children:\"asList\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(a.span,{className:\"token string\",children:'\"Effective Java\"'}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,n.jsx)(a.span,{className:\"token string\",children:'\"Spring In Action\"'}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,n.jsx)(a.span,{className:\"code-line\",children:`\n`}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[\"        \",(0,n.jsx)(a.span,{className:\"token keyword\",children:\"return\"}),\" result\",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[\"    \",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"}\"}),`\n`]}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"}\"}),`\n`]})]})}),(0,n.jsxs)(a.h3,{id:\"\\u6D4B\\u8BD5\",children:[(0,n.jsx)(a.a,{href:\"#\\u6D4B\\u8BD5\",\"aria-hidden\":\"true\",tabIndex:\"-1\",children:(0,n.jsx)(a.span,{className:\"icon icon-link\"})}),\"\\u6D4B\\u8BD5\"]}),(0,n.jsx)(a.p,{children:\"\\u672C\\u6587\\u6211\\u4EEC\\u6CA1\\u6709\\u8BB2\\u8FF0OAuth2\\u5BA2\\u6237\\u7AEF\\u7684\\u4F7F\\u7528\\uFF0C\\u56E0\\u4E3AOAuth2 \\u5BA2\\u6237\\u7AEF\\u914D\\u7F6E\\u4E0E\\u4E4B\\u524D\\u6587\\u7AE0\\u76F8\\u6BD4\\u5E76\\u6CA1\\u6709\\u4EFB\\u4F55\\u53D8\\u5316\\u3002\\u6240\\u4EE5\\u6211\\u4E0D\\u60F3\\u6D6A\\u8D39\\u8BFB\\u8005\\u9605\\u8BFB\\u7684\\u65F6\\u95F4\\u82B1\\u8D39\\u5728\\u6B64\\u4E4B\\u4E0A\\uFF0C\\u5982\\u679C\\u60A8\\u60F3\\u4E86\\u89E3\\u53EF\\u4EE5\\u53C2\\u8003\\u4E4B\\u524D\\u6587\\u7AE0\\u6216\\u8005\\u70B9\\u51FB\\u6587\\u672B\\u94FE\\u63A5\\u83B7\\u53D6 \\u6E90\\u4EE3\\u7801\\u3002\"}),(0,n.jsxs)(a.p,{children:[\"\\u6211\\u4EEC\\u5C06\\u670D\\u52A1\\u542F\\u52A8\\u540E\\uFF0C\\u6D4F\\u89C8\\u5668\\u8BBF\\u95EE\",(0,n.jsx)(a.a,{href:\"http://127.0.0.1:8070/client/test\",children:\"http://127.0.0.1:8070/client/test\"}),\"\\uFF0C\\u901A\\u8FC7\\u8BA4\\u8BC1\\u6210\\u529F(\\u8BB0\\u4F4F\\u7528\\u6237\\u540D\\u5BC6\\u7801\\u4E3Aadmin/password)\\u5E76\\u540C\\u610F\\u6388\\u6743\\u540E\\uFF0C\\u60A8\\u5C06\\u770B\\u5230\\u5982\\u4E0B\\u6700\\u7EC8\\u7ED3\\u679C\\uFF1A\"]}),(0,n.jsx)(a.pre,{className:\"language-json\",children:(0,n.jsxs)(a.code,{className:\"code-highlight language-json\",children:[(0,n.jsxs)(a.span,{className:\"code-line\",children:[(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[\"\t\",(0,n.jsx)(a.span,{className:\"token property\",children:'\"sub\"'}),(0,n.jsx)(a.span,{className:\"token operator\",children:\":\"}),\" \",(0,n.jsx)(a.span,{className:\"token string\",children:'\"admin\"'}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[\"\t\",(0,n.jsx)(a.span,{className:\"token property\",children:'\"articles\"'}),(0,n.jsx)(a.span,{className:\"token operator\",children:\":\"}),\" \",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"[\"}),(0,n.jsx)(a.span,{className:\"token string\",children:'\"Effective Java\"'}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,n.jsx)(a.span,{className:\"token string\",children:'\"Spring In Action\"'}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"]\"}),`\n`]}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"}\"}),`\n`]})]})}),(0,n.jsxs)(a.h3,{id:\"\\u7ED3\\u8BBA\",children:[(0,n.jsx)(a.a,{href:\"#\\u7ED3\\u8BBA\",\"aria-hidden\":\"true\",tabIndex:\"-1\",children:(0,n.jsx)(a.span,{className:\"icon icon-link\"})}),\"\\u7ED3\\u8BBA\"]}),(0,n.jsx)(a.p,{children:\"\\u5728\\u672C\\u6587\\u4E2D\\uFF0C\\u6211\\u4EEC\\u5B66\\u4E60\\u4E86\\u5982\\u4F55\\u914D\\u7F6E\\u57FA\\u4E8E Spring Security \\u7684\\u8D44\\u6E90\\u670D\\u52A1\\u5668\\u5E94\\u7528\\u7A0B\\u5E8F\\u6765\\u9A8C\\u8BC1\\u4E0D\\u900F\\u660E\\u4EE4\\u724C\\u3002\\u5728\\u4F7F\\u7528\\u4EE4\\u724C\\u5185\\u7701\\u4F1A\\u5BFC\\u81F4 OAuth 2.0 \\u7CFB\\u7EDF\\u5185\\u7684\\u7F51\\u7EDC\\u6D41\\u91CF\\u589E\\u52A0\\u3002\\u4E3A\\u4E86\\u89E3\\u51B3 \\u8FD9\\u4E2A\\u95EE\\u9898\\uFF0C\\u6211\\u4EEC\\u53EF\\u4EE5\\u5141\\u8BB8\\u53D7\\u4FDD\\u62A4\\u8D44\\u6E90\\u7F13\\u5B58\\u7ED9\\u5B9A\\u4EE4\\u724C\\u7684\\u5185\\u7701\\u8BF7\\u6C42\\u7ED3\\u679C\\u3002\\u5EFA\\u8BAE\\u8BBE\\u7F6E\\u77ED\\u4E8E\\u4EE4\\u724C\\u751F\\u547D\\u5468\\u671F\\u7684\\u7F13\\u5B58\\u6709\\u6548\\u671F\\uFF0C\\u4EE5\\u4FBF\\u964D\\u4F4E\\u4EE4\\u724C\\u88AB\\u64A4\\u56DE\\u4F46\\u7F13\\u5B58\\u8FD8\\u6709\\u6548\\u7684\\u53EF\\u80FD\\u6027\\u3002\"}),(0,n.jsxs)(a.p,{children:[\"\\u4E0E\\u5F80\\u5E38\\u4E00\\u6837\\uFF0C\\u672C\\u6587\\u4E2D\\u4F7F\\u7528\\u7684\\u6E90\\u4EE3\\u7801\\u53EF\",(0,n.jsx)(a.a,{href:\"https://github.com/ReLive27/spring-security-oauth2-sample/tree/main/oauth2-opaque-token\",children:\"\\u5728 GitHub \\u4E0A\"}),\"\\u83B7\\u5F97\\u3002\"]})]})}}var b=y;return v;})();\n;return Component;","toc":[{"value":"Spring Security OAuth2 Opaque 令牌的简单使用指南","url":"#spring-security-oauth2-opaque-令牌的简单使用指南","depth":2},{"value":"概述","url":"#概述","depth":3},{"value":"授权服务器","url":"#授权服务器","depth":3},{"value":"Maven依赖","url":"#maven依赖","depth":4},{"value":"配置","url":"#配置","depth":4},{"value":"资源服务器","url":"#资源服务器","depth":3},{"value":"Maven依赖","url":"#maven依赖","depth":4},{"value":"配置","url":"#配置","depth":4},{"value":"测试","url":"#测试","depth":3},{"value":"结论","url":"#结论","depth":3}],"frontMatter":{"readingTime":{"text":"7 min read","minutes":6.495,"time":389700,"words":1299},"slug":"oauth2-opaque-token","fileName":"oauth2-opaque-token.mdx","title":"Spring Security OAuth2 Opaque 令牌的简单使用指南","date":"2022-11-13T13:50:01.000Z","tags":["SpringSecurity","OAuth2"],"draft":false,"authors":["default"]}},"authorDetails":[{"readingTime":{"text":"1 min read","minutes":0.18,"time":10800,"words":36},"slug":["default"],"fileName":"default.md","name":"ReLive27","avatar":"../static/images/avatar.png","occupation":"中级软件工程师","date":null}],"prev":{"title":"Spring Security OAuth 2.0 授权服务器结合Redis实现获取accessToken速率限制","date":"2022-10-22T12:21:50.000Z","tags":["OAuth2","SpringSecurity"],"draft":false,"authors":["default"],"slug":"oauth2-token-access-restrictions"},"next":{"title":"Spring Security OAuth2 内省协议与 JWT 结合使用指南","date":"2022-12-04T20:14:01.000Z","tags":["SpringSecurity","OAuth2"],"draft":false,"authors":["default"],"slug":"oauth2-introspection-with-jwt"}},"__N_SSG":true}